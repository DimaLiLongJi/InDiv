{"version":3,"sources":["Utils.js","Lifecycle.js","Watcher.js","Compile.js","Component.js","Controller.js","Router.js","index.js"],"names":["Utils","toString","Object","prototype","name","parts","window","location","search","replace","split","params","i","len","length","pairs","func","call","a","b","aStack","bStack","type","deepIsEqual","className","areArrays","aCtor","constructor","bCtor","isFunction","push","isEqual","keys","key","hasOwnProperty","pop","value","setdate","console","error","mydate","Date","setDate","getDate","document","cookie","cookieArray","cookieName","setCookie","module","exports","require","Lifecycle","declareTemplate","state","utils","oldData","newData","newState","_newState","Watcher","data","watcher","updater","render","watchData","vm","val","defineProperty","configurable","enumerable","get","set","newVal","CompileUtilForRepeat","exp","valueList","forEach","v","node","dir","index","indexOf","_getVMRepeatVal","_getVMVal","watchValue","text","updaterFn","textContent","reg","test","RegExp","$1","textUpdater","innerHTML","oldValue","space","String","fn","addEventListener","event","eventType","fnList","args","match","f","CompileUtil","fragment","$fragment","vlList","k","bind","isRepeatNode","props","expFather","newElement","cloneNode","nodeAttrs","attributes","Array","from","attrName","attr","isDirective","substring","isEventDirective","eventHandler","appendChild","nodeType","result","Compile","el","$vm","$el","isElementNode","querySelector","node2Fragment","init","compileElement","elementCreated","createElement","childNodes","compile","compileText","createDocumentFragment","child","firstChild","compileUtil","argsList","arg","log","Component","declareTemplateName","preProps","fatherController","routerController","declareComponents","$initProps","propsWatcher","$watchState","$updateProps","$reRender","stateWatcher","controllerStateKey","dom","getElementById","hasChildNodes","childs","removeChild","item","$hasRender","$onDestory","newProps","_newProps","Controller","componentName","declareComponent","propsKey","$beforeInit","$onInit","domReg","$beforeMount","$mountComponent","$render","$afterMount","Router","routes","currentUrl","lastRoute","rootDom","refresh","nextRoute","arr","route","path","controller","hash","slice","renderController","then","$routeChange","catch","template","replaceDom","Promise","resolve","reject"],"mappings":";;;;;;;ACAA,IAAMA,ADAAA,QCAQmD,QAAQ,SAAR,CAAd;ADCE,mBAAc;AAAA,ICCVC;AACJ,uBAAc;AAAA,ADDZ,AEFJ,ICAMsB,ADAA1E,KFEGC,GEFKkD,KFEV,GAAgBjD,AEFE,OFEKC,EEFb,CAAd,MFEoB,CAAiBF,QAAjC;AACD;ACCC,ICFE2D,KDEGP,eAAL,GAAuB,EAAvB;AACA,ACFF,SDEOC,KAAL,GAAa,EAAb,ACFUO,IAAZ,EAAkBC,OAAlB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4C;ADG1C,ACH0C,AKH9C,IAAMhE,KNMGuD,GMNKJ,ENMV,GAAa,GMNK,CNMDnD,KAAJ,EAAb,CMNU,CAAd;ANOG,AMNH,IAAMoD,YAAYD,QAAQ,KPIf/C,MAAM,EOJC,CAAlB;AHDA,AEAA,ANMI,AEFA,AKFJ,IHFMgD,AEAApD,ACEA4D,KLEGC,CFEDxD,EMNM8C,CJIV,CKFYA,EHFEA,AFIFU,EFEAvD,EMNM,AJIlB,EKFoB,EHFE,CJMHC,IMNT,CAAd,GNMgB,AOJA,CPIgBC,AOJhC,GHFkB,CAAlB,EJMgB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,EAAwCC,KAAxC,CAA8C,GAA9C,CAAZ;AILJ,AJMI,AEFA,AKFJ,IHFMwH,AGEAA,KLEGpE,CFEDnD,IINQwC,AGEAA,ELEZ,GFEa,AEFEW,EFEf,CINoB,AGEA,ILEpB,ICJQI,GCAI,AGEA,CJFAS,ACAhB,AGEA,KJFqB;AACjB,ACAJ,ACFA,ALQI,AEFA,AKFJ,IHFMf,ACFAR,ACEAqI,ACEAlC,KLEGxF,CCJCa,CHMD,GINOzB,CJMHvC,CKRKuC,AHMd,AKFcA,GPID,AEFEY,CFEV,EGNaY,ACAE,AJMJ9D,EKRM,AEIA,EJFAJ,ADItB,EFEsBJ,KGNJ,ACAN,CDAkB,ACAlC,AJMgCS,GKRd,AEIA,CJFI,AEFtB,AEIA,EJFwC,AHMpC,EGNkB,AHMkBF,EGNIF,EHMAG,GGNtB,AHMlB,CGN8C,CHMDD,EGN3B,CAAlB,AHMA,EAAkD;AGLlD,AEFJ,ACEE,ANMI,AEFF,AKFJ,IFJMgD,AEIAkH,KLEG9G,CCJD5B,EHMErB,EKRMoC,CHMZ,EKFeA,CJFHe,ADIEF,ECJd,AGAY,ANME3D,EKRM,EHMpB,CKFuB,CPIHO,CAAN,EAASF,CCAf,CAAE,EIRE,CAAhB,ALQkB,CAAe,GAAf,CAAZ,AOJa,CAAnB;AJDIkE,AEFJ,ACCgB,ANOVjE,AEFF,AKFJ,IHFM4I,ACFArB,AEIAuD,KLEGxH,IKFMd,CFJCA,CLQHpC,CGNC8D,EDIV,CAAe,EFEA,AOJI,CFJC,ALQX,CGNT,AHME,CGNgB,ADIEhB,GFEC9C,CEFrB,GKFW,CAAf,CFJgB,ALQe,CKR/B,ALQyB,CAAnB,EGNqB;AACrB,AHMD,AEFD,SAAKwC,GCJCuB,EDIN,GAAa,CCJD,GDIK9E,GCJf,EAAkB,ADIP,EAAb;ACHEoC,AGFF,ANQA,AEFD,AKFHa,IFJM6H,GEIC5H,EDJEwI,CNQD/K,IOJR,CDJI,CHEUyB,CHMChC,AOJE,CDJC,EAAd,CNQI,CGNY0E,AHMhB,CGNU,CAAR,AHMgB,WCDL,CAAE;AEJd,ACFH,AEAE,ANQE,AOJJ9E,OJLE,EGCK2L,KCGQ,CPKJhL,IMRT,EFAU6I,CEAQ,ANQFpJ,EMRhB,ENQS,CAAP,aIRJ,EAAiC6G,KAAjC,EAAwC;ADGtC,ACHsC,AECtC,ANQC,AOJH7D,OPEE,EMNKwI,IHEExJ,AHMA,KGNP,AGFA,GAAiB,CCEJ,GDFb;AHGD,AEJD,ACEE,ANQE,AOJJwB,SDJOiI,MNQI,CMRT,CNQE,COPW,CDDE,IAAf,CDFY,UJQA,CAAE;AGRwB,ACA1B,ACGZ,ANQC,AOJH3D,SDJO3E,KAAL,GAAa,CCAA,GDAIvD,KAAJ,EAAb,EJIQ6D,MAAM;AIHdvD,ANQD,AEJC,AKAFiJ,ULAM,CIJGpD,AJIFtC,IAAD,IAAS,GKLA,KDCb,AJIoBA,CIJI,GJIX,GIJb,EAAgC,KAAKiI,OAAL,CAAa/E,IAAb,CAAkB,IAAlB,CAAhC,EAAyD,KAAzD,MJIoBlD,IAAP,OAAgB,QAA7B,EAAuC;AENvC,ACFY,ACKZvD,AJIA,AKAFwK,UHPOtB,AFOCtF,CIJCiC,IJII,IAAX,KKNa,GDEb,CAAwB,CFHxB,GAA2BqD,CHQhB,CAAE,EEJCrF,IGDd,CHCmBQ,CGDmB,IHCd1C,CGDmB6J,IHCd,ACJ7B,GEGsC,CAAa/E,IAAb,CAAkB,IAAlB,CAAtC,EAA+D,KAA/D;AHEA,ACJA,AEGD,ACID0E,QHPMxE,EDIA7E,GCJJ,EAAW,SDIX;AACA,ACJE,ACFF,AHKc,AKJD,CAAjB,SJKUwC,AENDvB,EDEEoG,QAAL,EDIgB9E,CCJAsC,ECFlB,CFMsBxG,ECJpB,ACFqB,EAAvB,CLYSO,EGNS,ADETiB,CCFqB,EDDhB,CFOC,CGNG,EAAkB,EAAlB,EAAsBvB,KAAtB,CAA4B,GAA5B,CAAlB;AACAkE,ACJE,ACFF,ALYA,AEJE,UGRGtB,EDEE2D,AFMD9C,CFIC,EKZP,CFMUU,CCJR,CCFW,ALYD5E,AEJA4D,EENG,ACFf,EDEE,CDIF,ADEiB5B,CCFC,EHMX,AEJK,CFIShB,AEJnB,IFIK,CAAmBD,CCHf,CAAE,EDGN,CGNgB,KHMa,mBAApC;AGLE,ACJD,ACFD,ALYD,AEJGkD,UGRG0F,CHQA3F,CCFCa,MAAM7C,EDEV,CCFA,ADEakC,ECFE,CDEf,GGRF,GAAyB,EAAzB;AFOI/B,ACJJ,ACPY,AHaVlC,UENGmD,KFMIe,GCFGD,GAAR,ICJJ,GAAuB,CFMrB,CENF,AFMwBN,GILb+H,CJKT,EAA4B3J,GAA5B,EAAiC,GILb8J,WAAW,CAAE;AHI/B,ACJJ,ACHD,AHSK1H,UENCf,KAAL,GAAa,EAAb,IFMkB,IADiB,IDCzBE,SAASC,SAAS,CAAE;AED3B,ACJH,AFMIa,UENCoF,YFMW,IENhB,CFImC,CFK7BxI,CITkB,EAAxB,AJSSC,GAAGC,QAAQC,QAAQ;AGJ1Be,ACJF,AJSA,AEHImC,aAH+B,GCCzBnC,MAAM0C,CAAN,CAAR,CGJCkH,KAAK,AJME;ACDT,ACfqC,AEU9B,ANUR,AEHM,OCRN,GHWI9K,MAAMC,CAAV,EAAa,AEHAgD,GAAP,IFGcjD,GCJbwC,GDImB,CAAN,IAAW,ECJd,EDIkBxC,CAAJ,KAAU,IAAIC,CAAhC;AGJb,ACLD,AHMC,ADIA,AEHK,UDDDuC,CCJ+B,ECG5BtB,KAAP,IFCgB,KAAKmB,KAAL,CAAW1B,CIVf,SJUI,CAAsB6B,QAAtB,CAAhB,EAAiD;AEAlD,AETC,AJUE,AKPF,ANWA,AEHIc,UIRAwH,ANWA9K,CKdCgJ,CJUGvG,CCL2B,EFS1B,EMXEqI,ENWP,IKdJ,ALciB7K,CCJGuC,EIVA,ELcE,AEHde,EGXgBb,ECGE2D,ANW1B,ECJE,ADI0B,AETO,EAMnB,CGXI,ACGpB,CDHgC,CCGC,ENWE,EKdEjE,GLcT,EKdR,EAAwB,KAAKyG,WAAL,CAAiBhD,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,KAAKiD,YAAL,CAAkBjD,IAAlB,CAAuB,IAAvB,CAArD,EAAmF,KAAKkD,SAAL,CAAelD,IAAf,CAAoB,IAApB,CAAnF,CAApB;AACD,AJUG,AKPAiF,ANWF,AEHM,YDDArI,AKPAkB,IJQIX,GIRR,AJQWX,CIRC,IJQJ,CDDSI,ACCA5B,OAAT,CAAiB0C,IIRJ,EJQb,EAAyBN,GAAzB,CAAJ,CDDkCjE,CCCC,KDDvC,EAA8C;AAC5C,AKPA,ANWJ,AEHM,UFGFgB,IMXI+K,CLOC,CDIC/K,AEHEsC,CFGZ,ECJavB,ADIA,CMXCiK,ELOV,EKPI,ELOYvI,ADIAxC,AEHE,EIRA8K,AJQhB,IFGoB9K,CAAb,CMXegL,CLOxB,EAA2B,OKPvB,IAAkC,MAAK5I,KAAL,CAAW1B,UAAX,CAAsBoK,MAAME,UAA5B,CAAtC,EAA+E;ALQ7E,AKPA,ANWN,AEHM3I,gBDDI,EKPCyI,EJQGhK,CDDCqB,EKPT,AJQA,CIRW2I,CHKdlH,CFEO,CAAW9C,ACCAkC,GDDX,AKPa+H,AJQjB,CCHG/H,ACNAsF,GECH,CLOuB,CEFfxH,AGLegK,ILOK3I,CEFf0B,ACNA,CECgBmH,GLON,CEFLxH,AFEgB1C,GAAX,EEFAgD,CGLvB,GLO2CtB,GEFbO,IAAID,GFEmBhC,GAAV,CAA3C,EAA2D,EEFd,GFEmBqB,KAAL,CAAWrB,GAAX,IAAkB0B,UAAU1B,GAAV,CAAlB;AEDjE,ACNA,AHQK,AKPA,ANWL,AEHM,UCHFG,ACNAqH,AJYAnI,CMbA,KJUQmC,CIRD,CFDX,EAAc,IDMd,AHMkBvC,CAAd,CEHkB,EAAhB,KGZKe,KAAKwC,QAAQ,oBLeNvD,CAAd,CAAJ;AGLA,ACNE,ACHF,AJWG,AKPGoB,ANWN,AEHMmB,UCHFkB,AHMArD,CKfC,EDGEmI,CDMCvE,CETC6F,ILeI,CMXCxI,AJQAN,CCHV,ACNF,CDMcA,CDGV,CETYwH,CDMd,AGLE,CAAc,CJQChF,CGZrB,CLeI,EGNqB,CAArB,ACNF,ACHwB,CLeCnD,AEHrB,GCHwBqD,CETCiF,GFSG1E,EHME,KGNN,CAAejD,EHMzC,CGN0B,AGLxB,GDJN,ALegD,EKfE,MLeKd,CGNE,AHMT,CGNhD,EAA4D,sCHMLA,CAAP,OAAa,QAA7D,EAAuE,OAAO,KAAP;AGLrEiB,ACNA,ACHA,AJWD,AKPK,ANWN,AEHM+B,YGZE6G,CDGD/D,GDMG,ECNR,AFSUxC,CIRC,EHKEU,ACNA,EAAb,CECI,AJQA,OGZqB,KFSjB,AETsByE,CFSDzF,GAArB,EAA0BQ,GAA1B,EAA+B1C,GAA/B,CAAR,EETyB,CAAuB8I,aAAvB,CAAzB;AFUD,ACNC,ACHA,AJWF,AKPK,ANWL,AEHM7G,OCLN,GFIIR,EIXEuH,CFSC,ACNAvB,AJYA,EEHEzF,GFGG1C,ICJImC,CIXC,CHYX,CAAaS,EGZjB,CHYI,CETJ,AJYK,CAAiBjD,CAAjB,CIZmBZ,CJYCa,CAApB,EAAuBC,GIZGuI,GHQGzJ,ADI7B,EAA+BmB,ICJtC,EAA4C,ADIrC,CAAP,IIZ0B,CAAwBuI,iBAAxB,CAA0C,KAAKJ,mBAA/C,EAAoEC,QAA5F;ADOArH,ACNA,ACHA,AJWA,AKPC,ANWJ,AEHO,SIfJ,IFMK,ACHA,AJWA,GEFG,ADGA8B,CETCjC,ACHA7B,AJWA6B,ECCE6B,CETX,CDMasB,AETb,AJWA,GGRgB,CCHC4F,AJWDtH,CCCZ,EAAgBQ,CETCwF,CDMb,CAAexF,ADGAJ,ECHf,AFER,EEF2Ba,AFED,GEFlB,ADGY,CCHpB,ADG+BnB,GGZGiG,GDGlC,CFSoB,CETmB,CFSChG,EGZxC,EAA4C,GHYxB;ACFrB,ACNG,ACHA,AJWA,AKPF,AJQI,YIREoI,EFDA,ACHAb,AJWA,ECCE9G,GDDGZ,ACCAS,EETE,CECGnB,ELOV,CAAWX,CGRCwH,AFSd,EAAgBvF,CDDd,EIXiBuF,ACIElB,AJQFxE,GETV,AHQY,CGRE9B,GAAd,AFSO,CETd,ACHA,AJWwBqB,ACCCrB,CGZC7B,EHYZ,EETgB,ACH9B,AJWmB,AKPT,AJQoBqE,CDDAxC,AKPG,ILOd,CIXiBA,AHYtB,EETlB,AECc,CDJd,ACIF,CFD8C,CCHC,AJWFyB,IGRMuD,KAAL,AHQQhF,CGRGA,GAAX,AHQD,CAA3C,EAA0D,CGRI3B,IHQCgD,GGRMqG,EHQX,CAAW1H,IAAX,IAAkByB,KGRd,CAAwBJ,GHQDrB,EGRvB,CAA8B,CHQhB,CAAlB,GGRuCyH,gBAAL,CAAsBzH,GAAtB,CAA9B,CAAlB;ADOhD,ACNI,ACHEgJ,AJWH,AKPD,AJQI,UCHA5F,GGLCwG,CFDC,EFSE3H,GETGX,AFSAS,CIRX,GHKiB,AETF5D,ACIAyL,CFDT,CAAWhK,AFSb,EGZA,AHYeqC,CCHGkB,EDGApB,IIRI,CFDpB,CAAsB,AFST,CCHF,CAAeE,AGLhC,EHKiB,CCNgBuF,CDMGxF,OCNR,CAAchC,CDMzB,CAAnB,CCN8B,CAAtB,CAAJ,EAA+C,KAAKgF,KAAL,CAAWhF,GAAX,IAAkB,KAAKwH,QAAL,CAAcxH,GAAd,CAAlB;ADOnD,ACNG,ACHE,AJWJ,AKPA,AJQI,OInBL,IHgBKqD,EGLE,EHKP,CAAUP,IAAV,EAAgBZ,GAAhB,EAAqBlC,GAArB,EAA0BiC,AHKhBhD,EGLV,CHKaC,GAAGC,QAAQC,QAAQ;AGJhC,ACNC,ACHE,AJWJ,AKPGiB,ANUF,AEpBmC,SAAjC,CCeIiD,MGLIhD,KAAR,CHKgB,AGLF,KHKUyC,GAAR,QGLhB,KHKF;AACA,ACND,ACHG,ACID,ANUD,AE3Bc,UF2BVxD,EKdEyJ,EFSEjG,GAAR,KHKgB,EKdEP,GLcGxE,QKdQ+K,ALcb,CAAc/J,IAAd,CAAmBC,CAAnB,CAAhB,SKd8C+F,KAAjB,CAAuBgE,QAAvB,CAA3B,EAA6DD,iBAAiB/D,KAAjB,CAAuBgE,QAAvB,IAAmCxG,MAAnC;AFU/D,AETC,ACIF,ANUC,UAAIjD,GGLC,OAAL,IHKkB,KAAKvB,QAAL,CAAcgB,IAAd,CAAmBE,CAAnB,CAAlB,EAAyC,OAAO,KAAP;AGJvCoE,AETH,ALcC,AE1BA,WAAK,GF0BG/D,CE1BCS,GAAT,IAAgB4B,CCqBD0B,AHKf,GE1BA,EAAsB,KCqBGtE,IAAV,CAAe,IAAf,EAAqB8D,IAArB,EAA2B3C,KAA3B,EAAkCuC,GAAlC,EAAuC1C,GAAvC,EAA4CgD,KAA5C,EAAmDI,UAAnD,EAA+DpB,SAA/D,EAA0EC,EAA1E,CAAb;AACA,AHKF,AE3BsB,aF2BjB,CE3BIjC,GAAa,aF2BtB,IIZY;ADQZ,ACPA,AJYA,AENC,UENG,GJYC,EIZIwH,QAAT,EAAmB,CECfyC,INWJ,EMXUC,YAAY;AHOpB5G,ACPA,AHMNtC,AKLI,ANWE,AENH,ODAIC,IKLEwI,EFDE7B,CHMX,GAAiBzG,AKLb,ANWS,CMXG8I,IAAZ,ANWYhL,CGLGqE,ACPb,AJYO,CIZS,EHMtB,AKLwB4G,GFDG1C,IDOExI,AHKFE,CAArB,GGLa,ACPb,CDO4B,AEVd,ECIkB,EHMnB,EAAqB4D,IAArB,EAA2B3C,EGNI,CAAE,CAAhD,CHMe,CAAb;AALF,ACDE,ACJc,ACKjB,ANWC,aIZO0H,AJYF,YIZH,GAAoB,EJYtB,EIZ0BlG,OAAJ,CAAY,KAAKqD,KAAjB,EAAwB,KAAK8C,WAAL,CAAiBhD,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,KAAKiD,YAAL,CAAkBjD,IAAlB,CAAuB,IAAvB,CAArD,EAAmF,KAAKkD,SAAL,CAAelD,IAAf,CAAoB,IAApB,CAAnF,CAApB;ADQH,ACPE,AJYC,cAAI,CAAC7F,CAAD,KAAO,CAACA,CAAZ,EAAe,OAAO,CAACC,CAAD,KAAO,CAACA,CAAf;AIXjB,ACNgB,ALkBd,WIZG+I,MJYI,CAAChJ,CAAD,IIZT,CJYgB,CAAP,CIZW,EJYA,EIZI0C,EJYA,CKjBf3B,ALiBgBf,CAAL,EKlBJ,CDMI,CAAY,CJYD,IIZMoC,AJYFnC,CAA1B,GAA8B,CIZnB,AJYoBD,CAAD,CIZK,IJYE,CIZG6I,AJYF5I,CAA7C,UIZ0C,CAAiB4F,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,IAArD,EAA2D,KAAKkD,SAAL,CAAelD,IAAf,CAAoB,IAApB,CAA3D,CAApB;AACD,ACLG,ALiBF,YKjBM,CLiBD,MKjBM6C,SLiBX,EMZQ,MDLF,CAAuB3H,GAAvB,EAA4BiJ,WAAhC,EAA6C,OAAKtB,iBAAL,CAAuB3H,GAAvB,EAA4BiJ,WAA5B;AAC7C,ACIM,ANaR,YKjBM,CLiBD,MKjBMtB,MFWR7E,MAAMZ,AHMT,KGNclC,AEXR,CAAuBA,GAAvB,CFWaiC,CEXeiH,GFWX,IEXrB,EAAyC,OAAKvB,iBAAL,CAAuB3H,GAAvB,EAA4BkJ,OAA5B;AFY3C,AEXE,ALiBA,AETNlI,OAAOC,GCGGoC,EEXE8F,EHQZ,GCGiBrG,AHMJ,AETInB,CFSH1C,CAAD,EKjBQ,CFWCsE,EHMF,AETpB,CGRyBG,ALiBJxE,CAAf,KKjBe,EFWjB,QEXoCc,GAAnB,YAAgC,GAAhC,CAAf;AFYF,AEXE,ACGF,ANIA,UGIMwD,CGRDkG,IDHEtI,CFWK,KGRZ,GAAkB9C,MDHhB,CFWF,ECPW0B,ACJc,ACGEmK,IAAT,CFCF3H,AEDgB4H,EDHFhJ,GCGZ,CAAoB,CAApB,CFCM,IEDoB,GAA5C,EDHyB,CAAqB5C,OAArB,CAA6B2K,MAA7B,EAAqC;AFY9D,ACPA,ACL8D,ACI9D,UHQI3F,ACPE0E,AEDF,IHQIzE,CGRCgG,GHQL,CAASpG,EGRT,CAAY,CHQZ,CAAJ,EAAoB,CGRCqG,IFCM,KAAKlC,CED5B,CAAJ,EAAkC,CDJ+DxH,GDKtE,ACLmC,CDKrBA,GAAd,CAA3B;ADQE,ACPF3B,ACN8D,ACK5D,ANcF,SKnByB,CAAvB,ALmBEmB,EGNIkD,AGRFrE,CFCCqJ,KDOOhE,CGRDgE,GNcGnI,GGNKoE,EAAnB,ECPF,CAAwBtC,KAAxB,AEDE,CFC4B6G,AJaA,CMdC,eNc/B,EIbA,IAAoD1F,MAApD;ADQE,ACPH,ACNG,ACKE,ANcJ,YGNMrC,AEbA,ECKE9B,KDLGsJ,ECKID,KHQb,UEbI,CAAuB1H,ACKrB,CAAwB0I,EDL1B,EAA4BU,MCK9B,EAAwC/K,IDL1C,EAA8C,CCKGqJ,MDLEC,UCKT,CAAwBe,MDLpB,CAAuB1I,GAAvB,ACKJ,EDLgCoJ,YAA5B;AFc9C,AEpBc,ACYZ,ANcJ,UAAI,CAAC5J,CGNCkD,IAAIO,CGRC5E,GNcX,EAAgB,CGNV,CAAY2B,AGRA0H,GHQZ,MAAqB,CAArB,IAA0BhF,EGR5B,EHQgCO,OAAJ,CAAejD,GAAf,YAA2B,CAAzD,EAA4D;AAC1DG,AGRD,ANcD,kBGNU,KAAK+C,eAAL,CAAqBhB,GAArB,EAA0BQ,GAA1B,EAA+B1C,GAA/B,CAAR;AACD,AErBH,ACaE,ANcA,SGRA,EEnBG,CCaGkK,ANcF,GGNG,AErBAlK,GAAT,EL2Baf,CAAP,CK3BU,GCaK,EDbA0I,ECaI,CFAjB,IEAsB8B,MAAL,CAAY,GDbrC,EAAwC,ACaEC,UAAjB,CAAJ,EAAnB,GNcWzK,CAAP,OAAa,QAAb,IAAyB,QAAOC,CAAP,yCAAOA,CAAP,OAAa,QAA1C,EAAoD,OAAO,KAAP;AGLlDiB,ACRJ,ACdwC,ACctC9B,ANcA,UIdI8J,EJcA1I,EK5BGO,CCcA0H,CFAG/G,CCd4B,CFsB5B,EHME1B,EAAES,CGNCyD,ECRIiF,MEAnB,CHQU,CAAenG,AHMzB,CMd0BiI,CHQhB,EAAmBxH,ECRnB,CDQA,CAAR,GGRF,WFA+C,KAAK6E,mBAA1C,CAAZ;ADSG,ACRH,ACTC,ACSC,ANcA,UIdEY,EEAE+B,ANcAvK,KIdKwI,GJcGjJ,CIdCmJ,CJcC3I,CMdCuJ,UNcf,CIdS,AEAT,EFAF,AEA8BiB,EFAE,SEASjB,WAAX;AHS5B,ACRA,ACTH,ACSG,ANcA,YIdIX,AEAA4B,CHQCtG,QCRQuE,EEAEe,CHQf,CAAiBpG,ACRA8D,IDQjB,CGRA,CHQuBzG,CGRC+J,GFAxB,CDQA,OGRmChB,OAAX;AHSzB,ACRC,AEAA,ANcA,YAAIzJ,CIdC,AEAA4K,IFAI1L,IAAI2J,CJcC3I,KAAV,CIdgBd,CEApB,CAAsBqL,CNcC,EAAE,CIdZ,GAAgB,CAA7B,AJc8BtK,EIdEjB,AEAhC,EAAkC2L,GFAG,CAArC,AEAA,CAAuC,CFAC3L,AJcf,CAAgBc,EIdzC,EAA6C,CJcpB,KMdoB,ANcMA,iBAAiBA,KAA3C,IAAoD,KAAKG,UAAL,CAAgBD,KAAhB,CAApD,IAA8EA,iBAAiBA,KAAjG,CAAnB,IAA+H,iBAAiBV,CAAjB,IAAsB,iBAAiBC,CAA1K,EAA8K;AGLjL,ACRKiJ,AEAA,ANcA,cIdII,GEACgC,ANcE,KAAP,GIdA,CAAgBjC,GEAhB,CAAkB,GFAKE,IAAP,AEAOmB,CFAKhL,CAAZ,CAAhB,MEAA,EAAkC,OAAK+K,UAAvC;AFCD,AEAC,ANcD,iBMdMC,SAAL,GAAiB,CDVb,MCUkBD,UAAtB;AFCH,ACVD,ACUG,ANcF,SMjBC,CDPIvB,CCUDqC,KDVO7J,ACOV,CAGS,QDVUyH,ICUJ,UDVL,CAAwB,MAAxB,CAAZ;ADWA,ACVA,ACUI/H,UDVA8H,CDUCtB,GCVGwB,IDUR,AEAY/H,GFAG,EEAX,CAAc,CFAC2F,ECVf,EAAJ,EAAyB,CFiBfnD,ACPK,MDOC3C,OAAO,AGPnB,IFAqC,KAAKoH,mBAA/B,EAAsD,IAAtD,CAAf;ADQAzE,ACPA,ACVE,ACUC,ANcH3D,SMnBE,CFKE,CDOCoE,CEjBC+E,GDUGG,AJcAtJ,MKxBMgJ,CFiBf,GAAmB,ACPnB,ACVmBvB,ALwBA,EIdE,AJcrB,KGP0BzG,ACPAsI,GCVxB,EFiBiB,KAAiB,ACPf,WDOF,GAA+B,EAA/B,GAAoCtI,KAAvD;AACD,ACPA,ACVG,ACUD,ANcDf,aKxBO,ELwBEA,EKxBET,IAAI2J,ILwBI,EAAnB,CKxBsBzJ,MAAP,GAAgB,CAA7B,EAAgCF,KAAK,CAArC,EAAwCA,GAAxC,EAA6C;AAC3CwJ,ACUL,ANcC,UAAItJ,IKxBI0J,KLwBKpJ,MKxBT,CAAgBmJ,ALwBAzJ,MAApB,CKxB2B2J,IAAP,CAAY7J,CAAZ,CAAhB;AACD,ALwBH;AKvBC,ALwBD,aAAOE,QAAP,EAAiB,SGRPiE,ACPA,MDOM3C,OAAO;AACvB2C,ACPA,ACTA,ALwBE,UIfIqF,CDODtE,AEhBAwF,CLwBClK,IIfMwB,GJeC9B,CGRb,GAAiB,ECPIuJ,AJef,CKxBN,IFgBwBjI,CHQClB,CAAvB,EAA0B,CGRX,EGPFiL,EFAH,CDOsB,SGPP,EHOV,GAA+B,CCPC,CDOhC,GAAoC/J,CCPCoH,IDOtD,eCPY,CAAZ;ADQD,ACPC,ACTA,ACSA,ANeI,UIfAY,AEAEsC,CDTD5D,MDSMsB,AJeA/I,CKxBX,GDSeiJ,ACTA,ACSE6B,GNeCrL,CKxBCoH,KLwBR,EKxBI,ACSa7E,CDTD,CDShB,EAAX,AJe8BlC,CAA1B,CIf4B,ECTjB,EAAqB,IAArB,CAAf,ACSA;AFCE,ACTF,ACSA,ANeG,UKxBC,ACSAuL,EFAEnC,GCTGX,MDSMQ,CEAC,GFAGvB,IEAI6D,GDTvB,EAA4B,CDS1B,EEAc,KAAoB,QAAhC,IAA4C,KAAKb,OAArD,EAA8D;AFC5D,ACTA,ACSA,ANeD,YMfKM,CFAC,ACTA,IDSIvL,ACTAqB,GAAT,CDSasI,EEAEc,CDTC,IDSIvK,CCTC8I,KDSR,CEAb,EFA6B,AEAAuC,CFA7B,EAAgCvL,KAAK,CAArC,ACTA,EDSwCA,ACTA,ACSAyK,GFAxC,EAA6C,OEAhB;AFC3BjB,ACTA,ACSF,ANeFhJ,aMfOuL,ANeA7K,CIfC0I,ACTA,GLwBR,CAAYtJ,CKxBC0I,ALwBb,IMfE,CAAgBuC,CFAd,CAAgB5B,ODMTxF,ACNgB0F,CEAzB,EDTM,ACSsB8B,CFAV,ACTWtK,CDSCrB,CDMfwB,ACNG,CAAhB,ACTI,ACSN,CAAiC,CDTCmJ,IFeZxF,GEfpB,EAAyC,ECSJ,GHMP,AEfgB6D,iBAAL,CAAuB3H,GAAvB,EAA4BsJ,OAA5B;AFgB7C,ACNG,ACTC,ACSA,ANeJlK,UGTIG,GHSGM,CKxBC,ACSAqK,GNeR,CAAYhL,CKxBCyI,ALwBb,GGTgB7E,GGNGyG,EHMEhK,SAArB,AEfQ,ACSJ,CDT2BS,CCSCkK,EDTxB,EAA4BX,OCSOA,IDTvC,EAA6C,KAAK5B,ACStB,iBDTiB,CAAuB3H,GAAvB,EAA4BuJ,WAA5B;AFgBjDhK,ACNC,ACTE,ACSA,ANeH,SMjBE,SHQUA,UAAUf,OAAV,CAAkBsF,QAAlB,EAA4B,EAA5B,EAAgCtF,OAAhC,CAAwC,KAAxC,EAA+C,EAA/C,CAAZ;AACA,ACNA,ACTC,ACSC,ANeF,UGTMuF,ACNF,AJeAvE,KIfKkJ,AEAAiC,GHMKpL,CHSd,EAAe,EMfEqL,EFAjB,EAAqB,GEAZ,CHMkB5G,CCND0E,AEAxB,MHMgCvI,ICNb,CDMM,CAAb,GAA6B,GAA7B,GAAmC,EAAjD;AACA2C,ACNA,ACTA,ACSC,ANeCjE,OMrBF,GDHI,CFeCU,ACNAsH,EEAE,EDTE4B,ELwBExJ,CIfX,CJeaJ,CGTb,CCNe,EDMEU,ECNE0G,ACTnB,ALwBE,EKxBmB,KDSN,ACTWwC,GFeG1E,KAAZ,EEfI,CFegB5D,KAArC,CCNyC,KAAKoH,mBAA/B,EAAsD,IAAtD,CAAf;ADOD,ACNC,ACTD,ACSGlH,ANeA,UIfE,EJeExB,GIfG4J,CEACnI,KAAR,CAAc,CNeCpB,EIfjB,AJemBL,EIfE,IJenB,CIfwB4J,CJeC,OAAO,EIfb,GJeM,mCMfzB;AFCH,AEAG,ANeA,eMfOkC,ANeA9L,QMfQgM,ANef,EAAiB,IMfV,EAAP;AACD,ANeG,cAAI,CAAC,KAAK/K,OAAL,CAAab,EAAEJ,MAAF,CAAb,EAAwBK,EAAEL,MAAF,CAAxB,EAAmCM,MAAnC,EAA2CC,MAA3C,CAAL,EAAyD,OAAO,KAAP;AMd9D,ANeI,gCKzBO,CFeC0D,MAAM3C,OAAOuC,KAAK1C,KAAKgD,OAAOI,YAAYpB,WAAWC,IAAI;AACpEa,AEfA,ALyBC,OAND,GKnBMqF,CFeDhI,EHUE,GGVP,AEfYQ,GFeC,MEfQyH,CFeDjI,GCNbwI,EDMM,KAAiB,GCNb,ACTL,CAAwB,MAAxB,CFeC,AEfb,GFe4C,EAA/B,GAAoCxI,KAAjD;AACA,ACNA,ACTA,ALyBE,UGVI+B,ACNF,ACTAiG,CDSC,CJgBCpI,EKzBEsI,EFeI3F,ACNF8E,GJgBGvJ,CGVGO,ICNhB,EAAoB,AJgBAuB,CGVR,AEfR,CFeuBC,CEf3B,CLyBa,CGVD,AEfa,ALyBAf,CAAZ,CAAX,MGViC,EAAvB,CAAZ;AACA,ACNA,ACTE,ALyBA,UGVIgF,ACNF0E,ECTEL,ALyBAtI,GGVK,MEfImI,CDSC,EDMVlE,AHUJ,CKzBiB2C,CFeR,CCNUtF,EDME,EGNd4I,CFAO,CAAWtK,ECTzB,QDSc,AEAK,CFAiB+I,QAAtB,CAAhB,EAAiD;ADO/CvF,ACNA,ACTA,ACSF,ANgBEvE,UMhBEqL,EFAItB,CCTD,IAAIjK,ALyBAoB,EGVEiD,EEfEsF,ACSAgB,CNgBCzK,EGVd,ACNkB8J,EDMAzG,EEfErD,ACStB,ANgBE,CGVA,CGNsBqL,GHMGpH,CCNzB,ACTa,GAAgB,CFeC3C,AEf9B,EAAgCxB,CCSC2K,EHMjC,EEfqC,CAArC,EAAwC3K,ACSlB,GDTtB,EAA6C;AFgB9C,ACNC,ACTEwJ,ACSJ,ANgBE,OGZF,KCJMS,AJgBA3K,CMhBC0M,CDTCpC,KLyBKxI,EMhBE6K,ENgBT,CAAY1L,CIhBC0J,ACTf,ALyBE,CKzBcN,CLyBCzJ,CMhBd,EAAP,GDT2B2J,ALyBrB,IKzBc,CAAY7J,ALyBAE,CKzBZ,CAAhB,ILyBF,EIhBsCZ,AJgBA,MIhBtC,CJgB6C,CIhBC,IJgBR;AGTxC6E,ACNI,ACTD,ACSJ,ANgBG,WGVGoB,ICNI,AJgBArF,IIhBImB,GAAT,CJgBF,EAAiB,CIhBC4I,CDMpB,CAAsB,OCNlB,CDMJ,CCN+B,CDMC3E,EAAhC,EAAoC,KAApC;AACD,ACNO,ACTJ,ALyBEjE,YKzBE,IDSI,AJgBAD,CKzBC2I,IDSI1D,AJgBAnG,KIhBL,CAAWmB,ACTnB,ALyBQ,CAAN,CKzBmB,CDSb,ICTkB0I,CDSC,KAAK1D,ICTX,CDSM,CAAWhF,GAAX,MAAoB4I,UAAU5I,GAAV,CAA3C,EAA2D,KAAKgF,KAAL,CAAWhF,GAAX,IAAkB4I,UAAU5I,GAAV,CAAlB;AAC5D,ACTJ,ALyBG,cAAI,EAAEd,EAAEe,cAAF,CAAiBD,GAAjB,KAAyB,KAAKF,OAAL,CAAab,EAAEe,GAAF,CAAb,EAAqBd,EAAEc,GAAF,CAArB,EAA6Bb,MAA7B,EAAqCC,MAArC,CAA3B,CAAJ,EAA8E,OAAO,KAAP;AIf/E,ACTH,ALyBG,WKzBEiK,eAAL;ADUC,ACTD,ALyBC,WKzBIxC,OAAL,GAAe,IAAIZ,OAAJ,CFcJnD,AEdgB,MFcVb,CEdF,EAAqB,CFcfS,GEdN,CAAf,CFc0ByB,OAAO;AACjC,ACLA,ACTA,ALyBAhF,UGXMiF,ACLFuE,ACTA,GLyBGzI,EKzBEyH,CLyBT,MGXkBxD,ACLFwE,MDKQlK,IEdxB,CFckB,CAAY,AEdF,GFcV,EAAiB,CAAjB,CAAlB,CCLoCR,MAApC,EAA4C;ADM5C,ACLE,ACTA,ACMN+C,ANmBI5B,OMnBG6B,GHQGoD,GCLC,ACTA,ALyBAnE,CMnBX,ENmBI,CIhBWF,ACTAA,ACMEwJ,EHQE9G,CEdb,CDSA,EDKiBlE,AGRvB,CDNsB,CDSAmK,ICTKhB,CFcR,CAAY,ECLzB,EAA0B,IDKb,EAAsB,EAAtB,EAA0BlJ,CEdvC,EAAwC,EFc3B,CAAgC,GAAhC,CAAf;AACA,ACLI,ACTA,ALyBJ,UGXM6F,GHWC,CIhBC,ACTA,GFcK5B,AHWb,EIhBasC,ACTA2C,EFcIpD,GCLT,CAAWvE,CDKN,CAAU,ECLf,KAAmB,ECTnB,CFcK,AEdkBA,EFcI,ACLHgF,CDKnB,AEdL,EFc8BxG,AEdFwJ,EDST,CAAWhI,IDKzB,ACLc,CDKmB,CEd1C,EAA2C,CFclC,CCLkC2I,CDKK,EAAvC,AEduChB,EFcIlJ,ICLAuB,CDK3C,CAAiD,ECLf,CDKlC,ACLT,CDKJ,CCL8D,ICTf,CAAuBA,GAAvB,EAA4BgI,SAA5B;AFe/C,ACLM,ACTF,ALyBL,UGXK/D,IEdI,CFcChC,EAAT,ACLW+C,ECTE2C,GDSP,CAAW3H,IAAX,IAAkB2I,KCThB,CAAuB3I,GDSEA,ACTzB,EAA4BuJ,EDSZ,CAAlB,QCTF,EAA6C,KAAK5B,iBAAL,CAAuB3H,GAAvB,EAA4BuJ,WAA5B;AFejDlF,ACLK,ACTF,aFcIzB,OAAP,CAAe,aAAK;AAClB,ACLC,ACTF,YFcK4B,MAAM,MAAV,EAAkB;AAClBP,ACLD,ACTD,UAAI,GFcGA,EEdEwE,CFcCjE,CAAH,CAAL,OEdF,EAAqB,GLwBbxE,EKxBkByI,GLwBbtI,OKxBQ,ALwBDC,SAAS;AGT5B,ACLF,ACTA,ALwBC,OGbA,GHaI,CAACJ,GAAD,IAAQ,CAACG,KAAb,EAAoB;AGTpB,AHUEE,UGVE+D,MHUM9D,KAAR,CAAc,CGVC2D,EAAjB,EAAqBnB,KAAKoB,gBAAL,CAAsBE,SAAtB,EAAiC,EHUpD,UGV0D;AAAEH,AHW5D,WGX+DjF,IAAH,CAAQiD,EAAR;AAAc,AHY3E,OGZoB,EAAyD,KAAzD;AACtB,AHYC,EIpGoBd,ACACA,QLoGjBZ,SAAS,IAAIC,IAAJ,EAAb;AACAD,aAAOE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","file":"index.map","sourceRoot":"../src","sourcesContent":["class Utils {\n  constructor() {\n    this.toString = Object.prototype.toString;\n  }\n\n  getQuery(name) {\n    let parts = window.location.search.replace('?', '').split('&');\n    let params = {};\n    for (let i = 0, len = parts.length; i < len; i++) {\n      let pairs = parts[i].split('=');\n      params[pairs[0]] = pairs[1];\n    }\n    if (params[name]) {\n      return params[name];\n    } else {\n      return '';\n    }\n  }\n\n  isFunction(func) {\n    return this.toString.call(func) === '[object Function]';\n  }\n\n  isEqual(a, b, aStack, bStack) {\n    // === 结果为 true 的区别出 +0 和 -0\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // typeof null 的结果为 object ，这里做判断，是为了让有 null 的情况尽早退出函数\n    if (a == null || b == null) return false;\n    // 判断 NaN\n    if (a !== a) return b !== b;\n    // 判断参数 a 类型，如果是基本类型，在这里可以直接返回 false\n    let type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b !== 'object') return false;\n    // 更复杂的对象使用 deepEq 函数进行深度比较\n    return this.deepIsEqual(a, b, aStack, bStack);\n  }\n\n  deepIsEqual(a, b, aStack, bStack) {\n    // a 和 b 的内部属性 [[class]] 相同时 返回 true\n    let className = this.toString.call(a);\n    if (className !== this.toString.call(b)) return false;\n    switch (className) {\n    case '[object RegExp]':\n    case '[object String]':\n      return `${a}` === `${b}`;\n    case '[object Number]':\n      if (+a !== +a) return +b !== +b;\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      return +a === +b;\n    }\n\n    let areArrays = className === '[object Array]';\n    // 不是数组\n    if (!areArrays) {\n      // 过滤掉两个函数的情况\n      if (typeof a !== 'object' || typeof b !== 'object') return false;\n      let aCtor = a.constructor;\n      let bCtor = b.constructor;\n      // aCtor 和 bCtor 必须都存在并且都不是 Object 构造函数的情况下，aCtor 不等于 bCtor， 那这两个对象就真的不相等啦\n      if (aCtor !== bCtor && !(this.isFunction(aCtor) && aCtor instanceof aCtor && this.isFunction(bCtor) && bCtor instanceof bCtor) && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n\n    aStack = aStack || [];\n    bStack = bStack || [];\n    let length = aStack.length;\n    // 检查是否有循环引用的部分\n    while (length--) {\n      if (aStack[length] === a) {\n        return bStack[length] === b;\n      }\n    }\n    aStack.push(a);\n    bStack.push(b);\n    // 数组判断\n    if (areArrays) {\n      length = a.length;\n      if (length !== b.length) return false;\n      while (length--) {\n        if (!this.isEqual(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      let keys = Object.keys(a);\n      let key;\n      length = keys.length;\n      if (Object.keys(b).length !== length) return false;\n      while (length--) {\n        key = keys[length];\n        if (!(b.hasOwnProperty(key) && this.isEqual(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  setCookie(key, value, setdate) {\n    if (!key || !value) {\n      console.error('set cookie error: key or value is null');\n      return;\n    }\n    let mydate = new Date();\n    mydate.setDate(mydate.getDate() + setdate);\n    document.cookie = `${key}=${value};expirse=${mydate}`;\n  }\n\n  getCookie(name) {\n    const cookieArray = document.cookie.split(';');\n    for (let i = 0; i < cookieArray.length; i++) {\n      let cookieName = cookieArray[i].split('=');\n      if (cookieName[0] === name) {\n        return cookieName[1];\n      }\n    }\n    return '';\n  }\n\n  removeCookie(name) {\n    this.setCookie(name, -1, -1);\n  }\n}\n\nmodule.exports = Utils;\n","const Utils = require('./Utils');\n\nclass Lifecycle {\n  constructor() {\n    this.declareTemplate = '';\n    this.state = {};\n    this.utils = new Utils();\n  }\n\n  $onInit() {}\n\n  $beforeMount() {}\n\n  $afterMount() {}\n\n  $onDestory() {}\n\n  $hasRender() {}\n\n  $watchState(oldData, newData) {}\n\n  setState(newState) {\n    if (newState && this.utils.isFunction(newState)) {\n      const _newState = newState();\n      if (_newState && _newState instanceof Object) {\n        for (var key in _newState) {\n          if (this.state[key] && this.state[key] !== _newState[key]) this.state[key] = _newState[key];\n        }\n      }\n    }\n    if (newState && newState instanceof Object) {\n      for (let key in newState) {\n        if (this.state[key] && this.state[key] !== newState[key]) this.state[key] = newState[key];\n      }\n    }\n  }\n}\n\nmodule.exports = Lifecycle;\n","const Utils = require('./Utils');\n\nclass Watcher {\n  constructor(data, watcher, updater, render) {\n    this.data = data;\n    this.watcher = watcher;\n    this.updater = updater;\n    this.render = render;\n    this.watchData(this.data);\n    this.utils = new Utils();\n  }\n\n  watchData(data) {\n    if (!data || typeof data !== 'object') return;\n    const vm = this;\n    for (let key in data) {\n      let val = data[key];\n      vm.watchData(val);\n      Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: false,\n        get() {\n          return val;\n        },\n        set(newVal) {\n          if (vm.utils.isEqual(newVal, val)) return;\n          const oldData = {};\n          oldData[key] = val;\n          const newData = {};\n          newData[key] = newVal;\n          val = newVal;\n          vm.watchData(val);\n          if (vm.watcher) vm.watcher(oldData, newData);\n          if (vm.updater) vm.updater(key, newVal);\n          if (vm.render) vm.render();\n        },\n      });\n    }\n  }\n}\n\nmodule.exports = Watcher;\n","class CompileUtilForRepeat {\n  _getVMVal(vm, exp) {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      if (v === 'this') return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  _getVMRepeatVal(val, exp, key) {\n    let value;\n    const valueList = exp.replace('()', '').split('.');\n    valueList.forEach(v => {\n      if (v === key) {\n        value = val;\n        return;\n      }\n      value = value[v];\n    });\n    return value;\n  }\n\n  bind(node, val, key, dir, exp, index, vm, watchData) {\n    let value;\n    if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n      value = this._getVMRepeatVal(val, exp, key);\n    } else {\n      value = this._getVMVal(vm, exp);\n    }\n    const watchValue = this._getVMVal(vm, watchData);\n    this.text(node, val, key, vm);\n    const updaterFn = this[`${dir}Updater`];\n    switch (dir) {\n    case 'model':\n      updaterFn && updaterFn.call(this, node, value, exp, key, index, watchValue, watchData, vm);\n      break;\n    default:\n      updaterFn && updaterFn.call(this, node, value);\n    }\n  }\n\n  text(node, val, key, vm) {\n    const text = node.textContent;\n    const reg = /\\{\\{(.*)\\}\\}/g;\n    if (reg.test(text)) {\n      const exp = RegExp.$1;\n      let value;\n      if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n        value = this._getVMRepeatVal(val, exp, key);\n      } else {\n        value = this._getVMVal(vm, exp);\n      }\n      this.textUpdater(node, value);\n    }\n  }\n\n  textUpdater(node, value) {\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  htmlUpdater(node, value) {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  classUpdater(node, value, oldValue) {\n    let className = node.className;\n    className = className.replace(oldValue, '').replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  modelUpdater(node, value, exp, key, index, watchValue, watchData, vm) {\n    node.value = typeof value === 'undefined' ? '' : value;\n    const val = exp.replace(`${key}.`, '');\n    const fn = function () {\n      watchValue[index][val] = node.value;\n    };\n    node.addEventListener('change', fn, false);\n  }\n\n  eventHandler(node, vm, exp, event) {\n    const eventType = event.split(':')[1];\n    const fnList = exp.replace(/\\(.*\\)/, '').split('.');\n    const args = exp.match(/\\((.*)\\)/)[1].replace(/ /g, '').split(',');\n    let fn = vm;\n    fnList.forEach(f => {\n      if (f === 'this') return;\n      fn = fn[f];\n    });\n    if (eventType && fn) node.addEventListener(eventType, () => { fn.call(vm); }, false);\n  }\n}\n\nclass CompileUtil {\n  constructor(fragment) {\n    this.$fragment = fragment;\n  }\n\n  _getVMVal(vm, exp) {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      if (v === 'this') return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  _getVMRepeatVal(vm, exp) {\n    const vlList = exp.split(' ');\n    const value = this._getVMVal(vm, vlList[3]);\n    return value;\n  }\n\n  _setVMVal(vm, exp, value) {\n    var val = vm;\n    exp = exp.split('.');\n    exp.forEach((k, i) => {\n      if (i < exp.length - 1) {\n        val = val[k];\n      } else {\n        val[k] = value;\n      }\n    });\n  }\n\n  text(node, vm, exp) {\n    this.bind(node, vm, exp, 'text');\n  }\n\n  bind(node, vm, exp, dir) {\n    const updaterFn = this[`${dir}Updater`];\n    const isRepeatNode = this.isRepeatNode(node);\n    switch (dir) {\n    case 'model':\n      !isRepeatNode && updaterFn && updaterFn.call(this, node, this._getVMVal(vm, exp), exp, vm);\n      break;\n    case 'repeat':\n      isRepeatNode && updaterFn && updaterFn.call(this, node, this._getVMRepeatVal(vm, exp), exp, vm);\n      break;\n    default:\n      !isRepeatNode && updaterFn && updaterFn.call(this, node, this._getVMVal(vm, exp));\n    }\n  }\n\n  textUpdater(node, value) {\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  htmlUpdater(node, value) {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  classUpdater(node, value, oldValue) {\n    let className = node.className;\n    className = className.replace(oldValue, '').replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  modelUpdater(node, value, exp, vm) {\n    node.value = typeof value === 'undefined' ? '' : value;\n    const val = exp.replace(/(this.state.)|(this.props)/, '');\n    const fn = function () {\n      if (/(this.state.).*/.test(exp)) vm.state[val] = node.value;\n      if (/(this.props.).*/.test(exp)) vm.props[val] = node.value;\n    };\n    node.addEventListener('change', fn, false);\n  }\n\n  repeatUpdater(node, value, expFather, vm) {\n    const key = expFather.split(' ')[1];\n    const watchData = expFather.split(' ')[3];\n    value.forEach((val, index) => {\n      const newElement = node.cloneNode(true);\n      const nodeAttrs = newElement.attributes;\n      if (nodeAttrs) {\n        Array.from(nodeAttrs).forEach(attr => {\n          const attrName = attr.name;\n          if (this.isDirective(attrName) && attrName !== 'es-repeat') {\n            const dir = attrName.substring(3);\n            const exp = attr.value;\n            if (this.isEventDirective(dir)) {\n              new CompileUtilForRepeat().eventHandler(newElement, vm, exp, dir);\n            } else {\n              new CompileUtilForRepeat().bind(newElement, val, key, dir, exp, index, vm, watchData);\n            }\n            // node.removeAttribute(attrName);\n          }\n        });\n      }\n      this.$fragment.appendChild(newElement);\n    });\n  }\n\n  isDirective(attr) {\n    return attr.indexOf('es-') === 0;\n  }\n\n  isEventDirective(event) {\n    return event.indexOf('on') === 0;\n  }\n\n  isElementNode(node) {\n    return node.nodeType === 1;\n  }\n\n  isRepeatNode(node) {\n    const nodeAttrs = node.attributes;\n    let result = false;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (attrName === 'es-repeat') result = true;\n      });\n    }\n    return result;\n  }\n}\n\nclass Compile {\n  constructor(el, vm) {\n    this.$vm = vm;\n    this.$el = this.isElementNode(el) ? el : document.querySelector(el);\n    if (this.$el) {\n      this.$fragment = this.node2Fragment(this.$el);\n      this.init();\n      this.$el.appendChild(this.$fragment);\n    }\n  }\n\n  init() {\n    this.compileElement(this.$fragment);\n  }\n\n  compileElement(fragment) {\n    const elementCreated = document.createElement('div');\n    elementCreated.innerHTML = this.$vm.declareTemplate;\n    let childNodes = elementCreated.childNodes;\n    Array.from(childNodes).forEach(node => {\n      const text = node.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/g;\n      if (this.isElementNode(node)) {\n        this.compile(node);\n        if (reg.test(text)) this.compileText(node, RegExp.$1);\n      }\n      if (!this.isRepeatNode(node)) {\n        fragment.appendChild(node);\n      }\n    });\n  }\n\n  compile(node) {\n    const nodeAttrs = node.attributes;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (this.isDirective(attrName)) {\n          const dir = attrName.substring(3);\n          const exp = attr.value;\n          if (this.isEventDirective(dir)) {\n            this.eventHandler(node, this.$vm, exp, dir);\n          } else {\n            new CompileUtil(this.$fragment).bind(node, this.$vm, exp, dir);\n          }\n          // node.removeAttribute(attrName);\n        }\n      });\n    }\n  }\n\n  node2Fragment(el) {\n    const fragment = document.createDocumentFragment();\n    let child;\n    while (child === el.firstChild) {\n      fragment.appendChild(child);\n    }\n    return fragment;\n  }\n\n  compileText(node, exp) {\n    new CompileUtil(this.$fragment).text(node, this.$vm, exp);\n  }\n\n  eventHandler(node, vm, exp, event) {\n    const compileUtil = new CompileUtil();\n    const eventType = event.split(':')[1];\n    const fnList = exp.replace(/\\(.*\\)/, '').split('.');\n    const args = exp.match(/\\((.*)\\)/)[1].replace(/ /g, '').split(',');\n    let fn = vm;\n    fnList.forEach(f => {\n      if (f === 'this') return;\n      fn = fn[f];\n    });\n    const func = (event) => {\n      let argsList = [];\n      args.forEach(arg => {\n        if (arg === '') {\n          return false;\n        }\n        console.log('arg', arg);\n        if (arg === '$event') argsList.push(event);\n        if (/(this.state.).*/g.test(arg)) argsList.push(compileUtil._getVMVal(vm, arg));\n      });\n      console.log('argsList', argsList);\n      fn.call(vm);\n    };\n    if (eventType && fn) node.addEventListener(eventType, func, false);\n  }\n\n  isDirective(attr) {\n    return attr.indexOf('es-') === 0;\n  }\n\n  isEventDirective(event) {\n    return event.indexOf('on') === 0;\n  }\n\n  isElementNode(node) {\n    return node.nodeType === 1;\n  }\n\n  isRepeatNode(node) {\n    const nodeAttrs = node.attributes;\n    let result = false;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (attrName === 'es-repeat') result = true;\n      });\n    }\n    return result;\n  }\n\n  // isTextNode(node) {\n  //   return node.nodeType == 3;\n  // }\n}\n\nmodule.exports = Compile;\n","const Lifecycle = require('./Lifecycle');\nconst Compile = require('./Compile');\nconst Watcher = require('./Watcher');\n\nclass Component extends Lifecycle {\n  constructor(declareTemplateName, props) {\n    super();\n    this.declareTemplateName = declareTemplateName;\n    if (props) {\n      this.preProps = props;\n      this.props = {};\n    }\n    this.declareTemplate = '';\n    this.state = {};\n    this.fatherController = {};\n    // this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n  }\n\n  $initProps(preProps) {\n    if (preProps) {\n      this.preProps = preProps;\n      this.props = {};\n      this.fatherController = window.routerController.declareComponents[this.declareTemplateName].preProps;\n      for (let key in this.fatherController) {\n        if (typeof this.preProps[key] === 'string') this.props[key] = window.routerController.state[this.fatherController[key]];\n        if (this.utils.isFunction(this.preProps[key])) this.props[key] = this.preProps[key];\n      }\n    }\n  }\n\n  $beforeInit() {\n    if (this.preProps) {\n      this.$initProps(this.preProps);\n      this.propsWatcher = new Watcher(this.props, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n    }\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), null, this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    const controllerStateKey = this.preProps[key];\n    window.routerController.state[controllerStateKey] = newVal;\n  }\n\n  $render() {\n    const dom = document.getElementById(`component_${this.declareTemplateName}`);\n    if (dom && dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  $reRender() {\n    const dom = document.getElementById(`component_${this.declareTemplateName}`);\n    if (dom && dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    if (this.$onDestory) this.$onDestory();\n    this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  setProps(newProps) {\n    if (!this.preProps) return;\n    if (newProps && this.utils.isFunction(newProps)) {\n      const _newProps = newProps();\n      if (_newProps && _newProps instanceof Object) {\n        for (var key in _newProps) {\n          if (this.props[key] && this.props[key] !== _newProps[key]) this.props[key] = _newProps[key];\n        }\n      }\n    }\n    if (newProps && newProps instanceof Object) {\n      for (let key in newProps) {\n        if (this.props[key] && this.props[key] !== newProps[key]) {\n          this.props[key] = newProps[key];\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = Component;\n","const Lifecycle = require('./Lifecycle');\nconst Watcher = require('./Watcher');\nconst Compile = require('./Compile');\n\nclass Controller extends Lifecycle {\n  constructor() {\n    super();\n    this.declareTemplate = '';\n    this.state = {};\n    this.declareComponents = {};\n  }\n\n  $beforeInit() {\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    for (var componentName in this.declareComponents) {\n      const declareComponent = this.declareComponents[componentName];\n      let propsKey = null;\n      for (let name in declareComponent.preProps) {\n        if (declareComponent.preProps[name] === key) {\n          propsKey = name;\n        }\n      }\n      if (propsKey && newVal !== declareComponent.props[propsKey]) declareComponent.props[propsKey] = newVal;\n    }\n  }\n\n  $mountComponent() {\n    for (let key in this.declareComponents) {\n      if (this.declareComponents[key].$beforeInit) this.declareComponents[key].$beforeInit();\n      if (this.declareComponents[key].$onInit) this.declareComponents[key].$onInit();\n      const domReg = new RegExp(`(\\<)(${key})(\\/>)`, 'g');\n      this.declareTemplate = this.declareTemplate.replace(domReg, (...args) => `<div id=\"component_${key}\"></div>`);\n      if (this.declareComponents[key].$beforeMount) this.declareComponents[key].$beforeMount();\n    }\n  }\n\n  $render() {\n    const dom = document.getElementById('root');\n    if (dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    this.$mountComponent();\n    this.compile = new Compile('#root', this);\n    if (this.declareComponents) {\n      for (let key in this.declareComponents) {\n        if (this.declareComponents[key].$render) this.declareComponents[key].$render();\n        if (this.declareComponents[key].$afterMount) this.declareComponents[key].$afterMount();\n      }\n    }\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  $reRender() {\n    const dom = document.getElementById('root');\n    if (dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n      if (this.$onDestory) this.$onDestory();\n    }\n    this.$mountComponent();\n    this.compile = new Compile('#root', this);\n    if (this.declareComponents) {\n      for (let key in this.declareComponents) {\n        if (this.declareComponents[key].$reRender) this.declareComponents[key].$reRender();\n        if (this.declareComponents[key].$afterMount) this.declareComponents[key].$afterMount();\n      }\n    }\n    if (this.$hasRender) this.$hasRender();\n  }\n}\n\nmodule.exports = Controller;\n","const Utils = require('./Utils');\n\nclass Router {\n  constructor() {\n    this.routes = {};\n    this.currentUrl = '';\n    this.lastRoute = null;\n    this.rootDom = null;\n    this.utils = new Utils();\n    window.addEventListener('load', this.refresh.bind(this), false);\n    window.addEventListener('hashchange', this.refresh.bind(this), false);\n  }\n\n  $routeChange(lastRoute, nextRoute) {}\n\n  init(arr) {\n    if (arr && arr instanceof Array) {\n      arr.forEach(route => {\n        if (route.path && route.controller && this.utils.isFunction(route.controller)) {\n          this.route(route.path, route.controller);\n        } else {\n          console.error('need path or controller');\n          return false;\n        }\n      });\n      const rootDom = document.querySelector('#root');\n      this.rootDom = rootDom || null;\n    } else {\n      console.error('no routes exit');\n    }\n  }\n\n  route(path, controller) {\n    this.routes[path] = controller || function () {};\n  }\n\n  refresh() {\n    this.currentUrl = location.hash.slice(1) || '/';\n    if (this.routes[this.currentUrl]) {\n      if (window.routerController) {\n        if (window.routerController.$onDestory) window.routerController.$onDestory();\n        delete window.routerController;\n      }\n      const controller = new this.routes[this.currentUrl]();\n      window.routerController = controller;\n      if (controller.$beforeInit) controller.$beforeInit();\n      if (controller.$onInit) controller.$onInit();\n      this.renderController(controller).then(() => {\n        this.$routeChange(this.lastRoute, this.currentUrl);\n        this.lastRoute = this.currentUrl;\n      }).catch(() => {\n        console.error('route change failed');\n      });\n    }\n  }\n\n  renderController(controller) {\n    const template = controller.declareTemplate;\n    if (template && typeof template === 'string' && this.rootDom) {\n      if (controller.$beforeMount) controller.$beforeMount();\n      this.replaceDom(controller).then(() => {\n        if (controller.$afterMount) controller.$afterMount();\n      });\n      return Promise.resolve();\n    } else {\n      console.error('renderController failed: template or rootDom is not exit');\n      return Promise.reject();\n    }\n  }\n\n  replaceDom(controller) {\n    if (controller.$render) controller.$render();\n    return Promise.resolve();\n  }\n}\n\nmodule.exports = Router;\n","const Utils = require('./Utils');\nconst Lifecycle = require('./Lifecycle');\nconst Watcher = require('./Watcher');\nconst Compile = require('./Compile');\nconst Component = require('./Component');\nconst Controller = require('./Controller');\nconst Router = require('./Router');\n\nmodule.exports = {\n  Utils,\n  Lifecycle,\n  Watcher,\n  Compile,\n  Component,\n  Controller,\n  Router,\n};\n"]}