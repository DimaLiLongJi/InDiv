{"version":3,"sources":["Utils.js","Lifecycle.js","Watcher.js","Compile.js","Component.js","Controller.js","Router.js","index.js"],"names":["Utils","toString","Object","prototype","name","parts","window","location","search","replace","split","params","i","len","length","pairs","func","call","a","b","aStack","bStack","type","deepIsEqual","className","areArrays","aCtor","constructor","bCtor","isFunction","push","isEqual","keys","key","hasOwnProperty","pop","value","setdate","console","error","mydate","Date","setDate","getDate","document","cookie","cookieArray","cookieName","setCookie","module","exports","require","Lifecycle","declareTemplate","state","utils","oldData","newData","newState","_newState","Watcher","data","watcher","updater","render","watchData","vm","val","defineProperty","configurable","enumerable","get","set","newVal","CompileUtil","exp","valueList","forEach","v","k","node","bind","dir","updaterFn","_getVMVal","textContent","innerHTML","oldValue","space","String","fn","test","props","addEventListener","Compile","el","$vm","$el","isElementNode","querySelector","$fragment","node2Fragment","init","appendChild","compileElement","fragment","elementCreated","createElement","childNodes","Array","from","text","reg","compile","compileText","RegExp","$1","nodeAttrs","attributes","attrName","attr","isDirective","substring","isEventDirective","eventHandler","createDocumentFragment","child","firstChild","event","eventType","fnList","f","indexOf","nodeType","Component","declareTemplateName","preProps","fatherController","routerController","declareComponents","$initProps","propsWatcher","$watchState","$updateProps","$reRender","stateWatcher","controllerStateKey","dom","getElementById","hasChildNodes","childs","removeChild","item","$hasRender","$onDestory","newProps","_newProps","Controller","componentName","declareComponent","propsKey","$beforeInit","$onInit","domReg","$beforeMount","$mountComponent","$render","$afterMount","Router","routes","currentUrl","lastRoute","rootDom","refresh","nextRoute","arr","route","path","controller","hash","slice","renderController","then","$routeChange","catch","template","replaceDom","Promise","resolve","reject"],"mappings":";;;;;;;ACAA,IDAMA;ACCN,ADAE,ICAIA,QAAQmD,ODAE,CCAM,SAAR,CAAd;ADAgB;ICEVC;AACJ,ADFE,AEFJ,ICAMsB,KHEGzE,QAAL,GAAgBC,GCEJ,IDFWC,SAAP,CAAiBF,QAAjC;ACEY,ADDb,AEFH,IAAMD,QAAQmD,QAAQ,SAAR,CAAd;;ADII,ICFES,KDEGP,eAAL,GAAuB,EAAvB;AACA,ACFF,AKJF,SNMSC,KAAL,GAAa,EAAb,ACFUO,IAAZ,EAAkBC,OAAlB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4C;ADG1C,ACH0C,AKH9C,SNMST,KAAL,GAAa,IAAIvD,KAAJ,EAAb,CDFOI,MAAM;AILjB,AHQG,AKRH,ANMI,AOJJ,UPIQC,QAAQC,OAAOC,QAAP,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,EAAwCC,KAAxC,CAA8C,GAA9C,CAAZ;AILJ,AEAA,ANMI,AEFA,AKFJ,IDFMV,KJIG6D,CFEDlD,EMNMwC,CJIV,GAAYU,GFEC,CMNK,AJIlB,CFEA,QMNU,CHAFK,AGAZ,IHAgBS,KAAK;AACjB,ACAJ,ACFA,ALQI,AEFA,AKFJ,SLESb,CCJCc,CHMD,IAAIhE,CEFT,GFEa,AEFEkD,CFEV,EGNaa,AHMF9D,IGNMJ,ADItB,EFEsBJ,KGNJ,CAAY,AHMFS,IGNV,EAAkB,AHMpC,EGNkB,AHMkBF,EGNIF,EHMAG,GGNtB,AHMlB,CGN8C,CHMDD,EGN3B,CAAlB,AHMA,EAAkD;AGLlD,ACAJ,ACFA,ALQM,AEFF,AKFJ,IHFMwC,AEAAoH,KJIGzG,CCJD3B,EHMErB,IINQoC,AFId,ECJYe,CDIGH,CCJf,AHMc1D,IINQ,EJMFO,AEFpB,CFEc,EAASF,KAAT,CAAe,EINf,CAAlB,AJMkB,CAAZ;AGLFkE,ACAJ,ACFA,ACEE,ANMIjE,AEFF,AKFJ,IHFMmF,KFIG9B,KEJOb,CJMHpC,AEFT,CCJU8D,EDIIb,EIJF,CNMG,CINK,AJMX,CGNT,AHME,CGNgB,ADIlB,GFEqBjD,GCAb,CAAE,EGNE,AJMe,CIN/B,AJMyB,CAAnB,EGNqB;AACrB,ACAN,ACFA,ACCgB,ANOX,AEFD,AKFJ,IHFM6C,ACFAR,KHMGa,GCJCa,ECAM3B,ECFEA,EFEF,ADIZ,CAAe,GEJK,EDAlB,AEFoB,AHMFU,ECJA,EDIpB,KEJY,CAAhB,GCFkB,CAAlB;AFGMzB,AEFN,ALQI,AEFA,AKFJ,IFJMwB,KHMGL,CFED5C,IKRQwC,AHMZ,ECJUf,CHMChC,AEFE,IFET,AEFaJ,CCJD8E,AEFI,ALQpB,CGNU,CAAR,AHMgB,EEFL,EAAb,KGNY,CAAhB;AFGK,AEFL,ACAI,ANQE,AEFH,AKFH,IHFMwD,ACFAxC,GFDF,EGCK2E,KDAOtH,CCAZ,ANQSxC,GMRK,EAAd,EDAoB,ALQJP,IAAP,CAAP,MKRU,CAAhB,CJOiB,CAAE;AEJf,AGFA,ANQC,AOJL,OPEI,EMNKsK,IHEEtI,AHMA,KGNP,CGFA,GAAkB,EAAlB;AHGD,AGFC,ANQE,AOJN,IFJMyH,KCAGc,MNQI,EAAP,CMRF,GAAiB,IAAjB;AFCF,AEAE,ANQC,AOJL,SDJSC,OAAL,GAAe,EFALrC,EEAV,WLMY,CAAE,KGNhB,EAAiC3C,KAAjC,EAAwC;AAAA,AECtC,ANQD,AOJH,SDJSrC,KAAL,GAAa,IAAIvD,KAAJ,EAAb,EJIQ6D,MAAM;AGLhB,ACEEvD,AJIA,AKAJ,ULAQ,CIJGuF,AJIFhC,IAAD,IAAS,KGND,GCEZ,AJIoBA,CIJI,EHChBK,CDGK,GCHDS,AGDZ,EAAgC,GHCfvC,EGDoByI,KHCb,EGDQ,CAAa5F,IAAb,CAAkB,IAAlB,CAAhC,EAAyD,KAAzD,MJIoBpB,IAAP,OAAgB,QAA7B,EAAuC;ACFvC,ACJsC,ACA1B,ACGZvD,AJIA,AKAJ,UJHQ6D,ADGED,CIJC2B,IJII,CCHD3B,EAAV,CDGA,QIJA,CAAwB,KLKb,CAAE,MKLb,EAAsC,KAAK2G,OAAL,CAAa5F,IAAb,CAAkB,IAAlB,CAAtC,EAA+D,KAA/D;AHEAN,AGDD,ACIH,YJHUA,IAAIjE,KAAJ,CAAU,GAAV,CAAN,KHMSM,MAAM;AGLf2D,ACJA,ACFY,ALYZ,AEPc,UCCVE,ACJC0D,GJUE,IGNP,CAAY,AHMAtI,QAAL,CAAcgB,CGNR8D,CAAD,ACJZ,EDIgBnE,AHMT,CGNK,ACJe2H,AJUDvH,CEJjBiB,CCFa,EHMf,AEPO,MFOsB,SIVpC,UJUA;AGLE,ACJF,AJUD,AEJG,AKCN,IAAMjC,IHPE4F,IDIEhF,ADEAuD,AKCIhB,CHPV,EAAW,CDIDwB,EDEEd,ECFE/C,AIGI,GLDDmB,GCFP,ADEE,CAAV,ECFqB,AIGb,CJHR,AIGN,EJH8B,CFGf,CAAE;AEFTkC,ACJF,ACFF,AHQED,AKCN,IAAMd,MFTGC,CHQAY,CENEuE,IDIGrE,AIGIhB,IJHA4B,ACJZ,AFMA,CCFQ,ADEKZ,CCFX,CCJcyB,CFMhB,AKCoB,CFTtB,GDEE,ACFqB,EAAvB,OESc,CAAlB;AJFO,ACJD,ACFF,AHQE1F,AKCN,IAAM0D,KJLA,CEJGN,EDEEsC,EGOKzC,CJHH,AENT,AHQSiB,EENP,CCFW,EDEE,ACFf,EDEE,AGOkB,OLDlB,CAAsBP,GILb8G,ACMC,CLDV,AKCN,ELDkC1I,GAA5B,EAAiC,GILb6I,WAAW,CAAE;AHI/B3G,ACJH,ACFD,AHQIE,AKCR,IAAMyB,MFTG6C,IFMG5D,AIGI5B,CJHR,IAASf,GIGO,EJHhB,ADEc,GGRlB,CLWMlB,AEJ6B,EGPV,CLWhBC,CKXT,AJQUqC,CMCE,CPEApC,AOFhB,ONDuBqC,CDGCpC,QCHQ,ADGA,CCHE;AED3B,ACJH,ACPY,ALgBZ,AEHIiD,AKCR,IAAMgE,MHPGjF,MGOSF,MLDE,EKCM,CHPtB,EFImC,CEJZ,EAAvB,OGOc,CAAlB;AJFK,ACJD,ACHD,ALYC,AEHIoB,AKCR,IAAMsF,GJTF,GCEKvG,AJSDpC,GEN+B,EEHnC,CJSUC,CAAV,AOFegC,CHPF,CJSA,CITb,KEAG4H,ACOoB,CPEH7J,IMTZ,AJME,EFGgB,CAAN,IAAW,EOFhB,CAAnB,CPEuCA,CAAJ,KAAU,IAAIC,CAAhC;AGJd,ACJC,AEDQ,ANUR,AEHM,AKCV,IAAMqJ,MHPG/B,GGOMtF,MLDEgB,EKCM,CLDb,IENN,GAAwB,AHKjBT,EGLP,AGOW,CAAf,ONFqB;AGJjB,AHKA,ADIA,AEHK,UDDDA,ADIAxC,CER+B,IFQ1B,IAAL,GCJY,CDICC,ICJIoC,CDIC,ICJN,ADIhB,CCJ2B1B,CDIC,OAAO,ECJnB,CAAsB6B,EDIV,MCJZ,CAAhB,EAAiD;AGfX,AHgBpC,AKPF,ANWA,AEHIc,AKCRvB,OAAOC,GDTC6H,ELOIpH,CCL2B,CKOvC,GDTeoH,ACSE,ONFOrH,ICCZe,IIRkBoC,ELOxB,ACLiC,EAMnB,CIRhB,EAAiC;AFElC,AHMG,AKPAkE,ANWF,AEHM,AKCR/K,UPEMkB,ECJEyC,AKPAkB,ECQO,EPGH3D,AEHAgD,CFGV,EMXE,ANWW,AEHAX,CIRC,IJQJ,CCHPyB,AFEgBrB,ACCA5B,CFGCZ,KGNX+C,CHMiB/C,AEHhB,CFGG,AEHcsD,CGXf,CFQCE,EGLU,EJQb,CCHQ,CDGiBR,GAAzB,CAAJ,CDDkCjE,CCCC,KDDvC,EAA8C;AEDhD,AERA,AJUI,AKPA,ANWJ,AEHM,AKCRkD,WJJO6B,AERAgE,GCGG+B,CHKR,AFES,CEFChG,ADGExB,GDDCvB,CEFb,AGLcgJ,EHKE/G,AFEZ,AMAS,CFVb,CFQA,AGLQ,EHKYS,AERA,AJUAhB,ACCE,EIRAqH,AJQhB,CCHN,CERwBpH,CFQC,GGLGsH,CLOxB,EEFJ,AERoB,AJUW,CIVC,KAAK5H,CCG7B,IDHY,ACGsB,EDHE,ICGGC,CDHEuF,ICGP,CAAWjH,MDHT,CAAiBoD,GCGnB,CDHE,ACGoB+F,CDHE,IAAtB,CAAxB,ACGkDE,EDHG,KAAKnC,GCGpC,CAAtC,EAA+E,MDHV,CAAkB9D,IAAlB,CAAuB,IAAvB,CAArD,EAAmF,KAAK+D,SAAL,CAAe/D,IAAf,CAAoB,IAApB,CAAnF,CAApB;AFSD,AERA,AJUO,AKPA,ANWN,AEHMzB,AKCRI,UPEMtC,MCJM,EKPC0J,ACME,ELEC/I,CDDCqB,EKPT,AJQA,CIRW0H,ANWC9J,CAAd,CCJM,CAAWe,ACCAkC,GDDX,AKPa8G,AJQjB,IIRA,CLOuB,CKPAD,ILOK1H,EKPC4H,GLON,CAAWjJ,GAAX,GKPvB,GLO2C0B,UAAU1B,CDIzCf,CAAd,CCJ6C,ADIjD,CCJM,EAA2D,KAAKoC,KAAL,CAAWrB,GAAX,IAAkB0B,UAAU1B,GAAV,CAAlB;AAC5D,AKPA,ANWL,AEHM,AKCR6D,UPEMxE,CMbA,KJUQmC,CIRD,CCKE,CPMA,OEHS,EAAhB,CFGF,IAAuBnC,SAAS,QAAhC,IAA4C,QAAOH,CAAP,yCAAOA,CAAP,OAAa,QAA7D,EAAuE,OAAO,KAAP;ACHpE,AKPGmB,ANWN,AEHMmB,AKCR6E,oBDTgB/F,AJQAN,EKJD,CLIP,EIRA,CAAc,CJQCwC,IETZ+D,EFSH,QETa,UECb;AFAN,AHQC,AKPK,ANWN,AEHMrE,AKCR0F,UHVMrB,GJYG,KIZP,AJYYjH,AEHAkD,CIRC,CFDC,IECR,AJQA,AKLO,CJCVO,IHOI,CAAiB9D,CGPfgD,AHOF,EKfIjC,ALegBd,CAApB,CGPMwD,CHOiBvD,EKfdqD,EFQES,EHOX,EAA+B7D,CGPf,CERC,ILejB,CAAP;AGNA,ACLE,ACHF,AJWA,AKPK,ANWN,AEHO6C,AKCRsG,UJLQrF,AFGFzB,CIXC,EDGE8E,ECHEsB,AHYA7F,METP,CDKgB,AFGFP,EGRE8E,AFSZ,CAAarE,ECJOe,CER1B,AHYM,ECJY,ECLhB,ACHwB,KAAKyD,KJWKzI,CEHpC,KFGA,EAA4C,IIX5C,EAAkD;AFSlD,ACLE,ACHA,AJWA,AKPC,AJQG,AKPO,CAAjB,QDRM,CHWEgF,EERI6E,CDGDnE,AHQA,GCCG1B,CDDCjC,CEHC,ACLV,CFSW6B,EETE,AHQb,EGRA,EDKF,AFGkBJ,CCCZ,CCJe,CDICQ,GGZK,AHYFJ,EDDvB,EAA0B,CIXI6E,EHYV,CAAWnF,OAAX,EAAoBC,KGZf,CAAuBqG,CHY5B,YGZK,CAAzB;AFSA3E,ACLA,ACHA,AJWE,AKPF,AJQI,YGZA6E,ACIEY,CFDDnC,CHQC,ECCEvE,GDDGZ,ACCAS,ECJEoB,CGJGvC,CDJD,CJWT,CAAWX,CCCb,CGZJ,CHYoBiC,CETpB,AHQM,EEHiBc,AGJEmB,AJQFpC,CETCzD,EHQC,CEHZ,EAAgB,CDIT,CETWoI,AHQDpF,ACCCrB,GCJGmD,ADId,EDDK,AKPT,AJQoBX,CDDAxC,AKPG,ILOd,CCCL,CCJS,CAAeiC,AGJ5B,CAAhB,CHI6B,CCLL,AHQqBR,CEHGiB,ACLAgE,GDKnB,CAAhB,EAAyChE,EFGA1C,CEHzC,EAA8CiC,CFGd,CEHhC,AFGX,CEHF,CFG4D,EGRpC,CAA0C,EHQDZ,GGRMiF,EHQX,CAAWtG,IAAX,IAAkByB,QGRtD,CHQ+DzB,CGRKuG,GHQd,CAAlB,IGR5D;ADMD,ACLC,ACHA,AJWC,AKPD,AJQI,OCNN,MAEO,ACLA,ACHA,ACIAoC,GJQG1G,CETCjC,ACHA7B,EHYE4D,CETX,AECA,CDJA,ECIe4G,CFDC,CCHCb,AHYb,EAAe7F,EETEuE,CFSCzE,EFEd9C,EMVkB,CNUfC,CEFQ,EIRnB,ANUcC,IKdoBoH,GDGlC,CJWsBnH,CIXiB,GCHvC,EAA4C,ELcd;AGL9B8D,ACLE,ACHA,AJWH,AKPA,ANUD,AEFK,OInBL,MAWO,CFDC,ACHA4E,OFQO5E,ACLA,KAAKqD,KDKKxD,AERAwD,GDGV,CDKA,ACLcvG,EDKE,CCLhB,CAAP,ACHA,CAA0B7B,EFQEgF,ECLE,ACH9B,MAAoCnD,CFQb,CAAeiC,ACL1C,CCHA,CFQ2B,ACLiB,CCHC,CFQCS,GAAnB,ACLsBiB,CDKtC,CAAb,GCL8C,CAAW3D,GAAX,IAAkB3B,OAAOoI,gBAAP,CAAwBpF,KAAxB,CAA8B,KAAKmF,gBAAL,CAAsBxG,GAAtB,CAA9B,CAAlB;ADM/C,ACLG,ACHE+H,AJWP,AKPG1H,ANUF,AEpBmC,SAAjC,CFoBEd,IIXI,EECEe,GFDGgB,EECX,CAAc,ANUA,CKdCnD,CDGT,CAAWyB,ECHb,ALce5B,QIXb,AJWQ,CIXc,AJWAgB,EMV5B,ENUc,CIXmBuH,AJWAtH,CAAnB,CAAhB,MIX8B,CAAce,GAAd,CAAtB,CAAJ,EAA+C,KAAK2D,KAAL,CAAW3D,GAAX,IAAkB,KAAKuG,QAAL,CAAcvG,GAAd,CAAlB;ADMpD,ACLI,ACHE,ACIJ,ANUD,AE3Bc,UF2BVT,cAAc,KAAKvB,QAAL,CAAcgB,IAAd,CAAmBE,CAAnB,CAAlB,EAAyC,OAAO,KAAP;AIVxC,ACHE,ACIJ,ANUC,cAAQK,SAAR;AIVD,ACHG,ALcF,AE1BA,WAAK,CGYCwI,CLcD,EE1BI/H,GAAT,IAAgB4B,EGYEY,EHZlB,EAAsB,EF0BtB,KKd6BsF,iBAAiBnE,KAAjB,CAAuBoE,QAAvB,CAA3B,EAA6DD,iBAAiBnE,KAAjB,CAAuBoE,QAAvB,IAAmCvF,MAAnC;AAC9D,ALcD,AE3BsB,aF2BjB,CE3BIxC,GAAa,aF2BtB,EGPU+C,MAAM5C,OAAO;AACvB4C,AEPD,ALcG,AEND,WCDIK,MHOI,KGPT,AHOYnE,CAAH,EGPU,CGJf+J,MHIsB7I,AGJhB8I,CNWa/J,CAArB,GGPiB,KAAiB,EGJd,SHIH,GAA+B,EAA/B,GAAoCiB,KAAvD;AACD,AFCH,AKLI,ANWA,AEND,WILMqI,ENWA,IMXL,CAAYQ,IAAZ,IAAoBC,INWpB,IIZY,MECsB,YAAY,CAAE,CAAhD;AFAA,AECD,ANWG,UIZE,IJYE,CIZG1C,AJYFtH,CAAD,KAAO,CAACA,CIZd,AJYE,EIZiB,AJYF,OAAO,CAACC,CAAD,KAAO,CAACA,CAAf;AIXf,AJYA,aIZKyH,IJYE,CAAC1H,CAAD,IIZP,CAAgB,AJYF,CAAP,GAAW,CIZGsH,GJYC,CAACtH,CAAL,GIZlB,CCHc,CLee,IAAIC,CAA1B,GAA8B,CAACD,CAAD,KAAO,CAACC,CAA7C;AIXA,ACJc,AJQpB8B,ADQI,OCRGC,MGJI2F,AJYF,CCRT,GAAiBzF,QGJX,CHIN,EGJ0B,AJYtB,IGRU4B,ACJgBpB,MDIVxB,CCJM,CAAY,KDIX,ACJgBwD,KAAjB,EAAwB,KAAKkD,WAAL,CAAiB7D,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,KAAK8D,YAAL,CAAkB9D,IAAlB,CAAuB,IAAvB,CAArD,EAAmF,KAAK+D,SAAL,CAAe/D,IAAf,CAAoB,IAApB,CAAnF,CAApB;ADKFD,ACJC,AJYD,WGRKM,EHQA,OGRL,GAAiB,OAAOlD,AGJhB,CNYR,IGRiB,KAAiB,WAAjB,GAA+B,EAA/B,GAAoCA,KAArD;AACD,ACJC,ACNgB,ACKR,ANaN,WIZG6G,MJYI,CAAC/H,CAAD,IIZT,CJYgB,CAACC,CIZG,AJYlB,IIZsByC,GCLf3B,GADO,CDMI,CAAY,KAAKqB,KAAjB,EAAwB,KAAKwF,WAAL,CAAiB7D,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,IAArD,EAA2D,KAAK+D,SAAL,CAAe/D,IAAf,CAAoB,IAApB,CAA3D,CAApB;AACD,ACLG,ALOF,AECJ,YGRU,OAAK0D,iBAAL,CAAuB1G,GAAvB,EAA4BgI,WAAhC,EAA6C,OAAKtB,iBAAL,CAAuB1G,GAAvB,EAA4BgI,WAA5B;AAC7C,ACGF,WAAKS,CDHC,OAAK/B,ECGX,GAAkBpI,SAAS4K,GDHrB,CAAuBlJ,ACGX,CAAcmJ,EDH1B,EAA4BlB,CCGhB,CAAoB,CAApB,IDHhB,CCG0C,CDHD,ECG3C,KDHgDvB,iBAAL,CAAuB1G,GAAvB,EAA4BiI,OAA5B;AACzC,ACGF,ANcA,UMdI,ANcAzI,EKjBI0I,GCGCM,MDHQ,ACGb,CAAY,ANcAjJ,GKjBK2F,ECGAuD,IDHJ,EFQN1F,GHSmB,CMd1B,CAAJ,CHKiB5C,CGLiB,CDHEH,GAAnB,EFQOsD,MHSxB,IGTkC,AERe,GAAhC,CAAf;AFSF,AERE,ACGA,ANcF,AEXJtC,OAAOC,GCEC1B,EGLElB,EJGV,CGNW+C,EHMMO,EIHA8E,GHKG1D,EDFpB,GCEyBxD,GERnB,GDISS,ACJc,ECGvB,CHKF,CGL+B,CFCfwC,ECJcpB,MDIN,SCJC,CAAqB5C,OAArB,CAA6B0J,MAA7B,EAAqC;AFS9D3I,ACJA,ACL8D,ACI1D,ANcJ,UIbM0H,AJaF,CAACzH,GMdGnB,IHKIkB,EHSZ,CMdekH,CNcC,MGTMjI,GCJK,IDIf,CAAkB8E,ACJEiD,CEDxB,CAAwBkB,GDJiEzH,GFSrF,ACJe,ACLmC,CDKrBA,CDID,EAA5B,ACJe,AEDvB,CFCJ,CDI4CxB,AGLAH,OHKhC,AGLuCoI,CHKC,KAAxC,EAA+C,EAA/C,CAAZ,KGL4C,CAAwBgB,UAAxB;AHM5C,ACJApJ,ACN8D,ACK1D,ANcF,SKnBuB,CFUnBkF,AEVJ,GDMKkD,IEDIpI,CHKGkB,MGLIkH,KFClB,CAAwBpF,CDIGmC,ICJ3B,CAA8ByD,EDII9G,EGL9B,GHKuB,CAAb,GAA6B,GAA7B,GAAmC,CCJjD,CDIA,GCJoDqC,MAApD;ADKAO,ACJD,ACNG,ACKC,ANcD,WGTGxD,CEVC,ALmBA,OKnBKmH,CFUX,AHSazH,CAAP,EGTWM,YAAYgE,CEVvB,CAAuBvD,GFUZ,AEVX,EAA4BmI,CFUGhI,KAArC,MEVE,EAA8C,MLmBnClB,CKnBwCyH,ALmB/C,OAAa,QAAb,EKnB0C,CAAuB1G,CLmBxC,EKnBiB,EAA4BmI,ILmBtCjJ,CAAP,OKnBiB,kCLmBVA,CAAP,OAAa,QAA1C,EAAoD,OAAO,KAAP;AGRvD,AEjBiB,ACYd,ANcA,YMdM+J,ANcFxJ,QAAQR,EAAES,GMdK,IAAI,INcvB,CMd4B8I,MAAL,CAAY,KAAKC,UAAjB,CAAJ,EAAnB;AACApK,ANcA,YAAIsB,GMdG8G,KNcKvH,EAAEQ,SMdd,ENcA,CMd0BuJ,UAA1B;ADZF,ACaE,ANcA,WK3BG,CCaCA,GDbGjJ,GAAT,IAAgB,CCaCgI,IDbItB,GDab,IEAN,EAA4BuC,QDb9B,EAAwC,CCaCjB,WAAX;AFC9B,ACdwC,ACctC,ANcA,UIdId,EEAA+B,ANcAxJ,EK5BGO,EDcGW,CCd4B,KL4BxBhB,CMdCsI,EFAId,EJcf,GMdJ,CNcuB,CMdC8B,CHIflG,AHUgB,KAAKnD,CGVfO,ACJL,IEAyB8H,GHIbvF,EHUG,CAAgBjD,CMdjB,CHIGwC,GHUF,CGVM,ACJgB,IJcIxC,CIdC6G,gBJcgB7G,GId1D,CAAZ,CJc2B,IAAoD,KAAKG,UAAL,CAAgBD,KAAhB,CAApD,IAA8EA,iBAAiBA,KAAjG,CAAnB,IAA+H,iBAAiBV,CAAjB,IAAsB,iBAAiBC,CAA1K,EAA8K;AGThL6D,ACJA,ACTC,ACSC,ANcE,UIdAmE,CDIC/G,EGJEiJ,GHIP,CCJWlC,AJcA,EGVE,ECJEE,CJcX,IGVgBjH,GGJlB,CAAsB8I,CHIX,GCJF,EDImB,ACJ9B,EAAgC,EEA9B,EAAkCI,IAAlC,CHIW,AGJ4B,GHIG,EAA/B,GAAoClJ,IGJF,CHI/C;AACA,ACJE,ACTH,ACSK,ANcD,UGVG+B,ECJAmF,IDIM3E,CGJH4G,GHIO9K,CCJD0I,IAAIvC,EDIP,CAAY,CGJpB,CAAkB,KFApB,EEAyB+D,SAAvB,EAAkC,OAAKD,CHI/B,EAA0C,EAA1C,CAAZ,IGJI;AHKJ,ACJE,AEAE,ANcH,UGVKhF,GCJC,EDII,ECJA9E,AEAF+J,IFAMrB,GDIT5D,EAAK,AGJP,EFAkB5E,CDIC,AGJF,KFAN,EEAW4J,CFAK,CAA7B,EAAgC9J,KAAK,CAArC,AEAE,EFAsCA,GAAxC,EAA6C;ADK7C,ACJEuI,AEAD,SAHD,EAGGqC,CHIC,ECJEjC,EEHN,CAGS,QFAP,CAAgBD,GEAH,CHIO3D,GCJG6D,CDIrB,CAAuB7E,ECJT,CDId,ACJ0B/D,CDI9B,ACJkB,CAAhB,CDI+BsD,GAAGZ,KAAH,CAASa,GAAT,IAAgBa,KAAK5C,KAArB;AACjC,ACJC,AEACE,ANcJlB,YGVM,GHUGA,GMdGmB,KAAR,CAAc,CNcC,EAAnB,GGVwBoD,AEdhB,IFcF,CAAuBhB,GAAvB,CAAJ,EAAiCT,GAAG0B,CGJlC,IHI+B,CAASzB,GAAT,IAAgBa,KAAK5C,KAArB;AAClC,ACJA,ACVD,ACUG,ANcHf,OGbA,EGNE,CDLI8H,KLwBG9H,CKxBGuB,SAASwG,ALwBF,EAAnB,YKxBY,CAAwB,MAAxB,CAAZ;AFeApE,ACJA,ACVA,ACUC,ANcD,UKxBImE,ALwBArI,CGVC+E,ACJAoB,GCVGoC,IDUR,CJcajI,EIdE,IAAI0E,CJcChF,CGVpB,AEdI,CFckB,CEdtB,EAAyB,CDUV,AJcf,IGVA,EAAgC4E,EAAhC,EAAoC,KAApC,ECJyC,KAAK6C,mBAA/B,EAAsD,IAAtD,CAAf;ADKD,ACJC,ACVE,ACUH,ANcC,UIdI,ECVEe,GDUGG,MCVMN,IDUf,ACVmBvC,EDUE,KAAK6C,GCVxB,ODUmB;AACtB,ACVG,ALwBF,aKxBO,ALwBA3I,IKxBIF,IAAI0I,ALwBf,EAAiB,KKxBKxI,MAAP,GAAgB,CAA7B,EAAgCF,KAAK,CAArC,EAAwCA,GAAxC,EAA6C;AAC3CuI,ALwBF,YAAI/H,EKxBEmI,KLwBKzI,MKxBT,ALwBE,CKxBcwI,KLwBKpI,CAAvB,CKxByBsI,CLwBC,GKxBR,CAAY5I,CAAZ,CAAhB;AACD,ALwBC,iBAAOS,OAAOP,MAAP,MAAmBK,CMff+J,ANeX,YMfuB;ADR1B,ACSD,ANeG,UMfGO,WAAWP,WFAP,AEAkB7H,eAA5B;AFCA,ACTA,ACSA,ANeC,UIfK8F,AEAFsC,CDTCpB,KDSOzH,MEAI,GFAKwG,CCTrB,GCSuBqC,QAAP,EFAJ,GEAwB,QAAhC,IAA4C,CFAC,IEAIb,CFACrC,MEAtD,EAA8D,WFAlD,CAAZ;AACA,ACTA,ACSE,ANeFnH,IGbE0E,MCFEqD,CCTClC,CCSCiE,CNeCpJ,IIfIqH,AJeX,CKxBA,ALwBYjI,CAAZ,EIfemI,ACTA,ECSEe,EDTEtE,OAAJ,CAAY,CDShB,CEAT,CFAF,CEA+BoF,CFAC,ECTjB,EAAqB,IAArB,CAAf,CCS0Cd,YAAX;AHGjC,ACFI,ACTF,ACSE,ANeF/I,UKxBI,EDSEiI,CEACoC,ANeA5J,EKxBE6G,ELwBT,CAAYxH,CGbF4E,AHaV,EGbF,ACFiBoD,EDEDjF,AGFZ,CAAgBgH,CHEpB,ACFqBtE,EDED,KEXlB,EAA4B,ACS1B,CFAA,CEA4B0E,IAA5B,CAAiC,YAAM;AHEvB,ACDhB,ACTA,ACSE,ANeJ,aIfO,ACTA,CCSCJ,GFAGtK,ACTAqB,GAAT,CDSaqH,GCTG,CCSCiB,GFAGzJ,CCTC6H,KDSR,EEAX,CFA2B,CAA7B,AEA8BuC,EFAEtK,KAAK,CAArC,ACTA,EDSwCA,ACTA,CCSC2J,EFAzC,EAA6C,OEAf;AFC5BpB,ACTA,ACSD,ANeH,SMjBE,CNiBE1H,IIfI8H,ACTA,KAAKZ,ALwBb,EAAe,IIfX,CAAgBW,OAAOE,GCTnB,CDSY,ACTWvH,CDSCrB,CAAZ,CAAhB,ACTI,EAA4B0J,OAAhC,EAAyC,KAAK3B,iBAAL,CAAuB1G,GAAvB,EAA4BqI,OAA5B;AFU7C,ACAG,ACTC,ACSF,ANeAxJ,SGfGkF,GAAL,EETQ,CFSG9B,AGAFyH,EHAT,AHeWzK,EKxBEyH,ALwBA7H,IMfI8K,ENef,KMfO,EAAP,IDTM,CAAuB3J,GAAvB,EAA4BsI,WAAhC,EAA6C,KAAK5B,iBAAL,CAAuB1G,GAAvB,EAA4BsI,WAA5B;AFUjD,ACAC,ACTE,ACSF,ANeC,OMrBF,EHMKtE,GAAL,AHeMnF,CMfC,EHAI,KAAKoF,GHeC/E,EAAEL,MAAjB,EGfS,AHegB,CGfGiF,EAAnB,IAAyBA,AHeF,EGfvB,GAA8BnD,AHed,SGfuBuD,aAAT,CAAuBJ,EAAvB,CAAzC;AACA,ACAA,ACTC,ACSCzD,ANeA,QGfE,ECAA,GDAK2D,ECAAyD,AJeA5I,CGfT,AGAUyB,EHAI,GGAZ,CAAc,CNed,EIfF,AJemB,EIfE,KAAKmH,UAAL,sCEAnB;AHCA,ACAF,ACTA,ACSE,ANeE,UKxBA,CFSGtD,ACAFa,GJeG,CKxBCwC,ACSAkC,ANeA,GIfT,EDAE,AHeY5J,CIfC,EDAI,AGAF8J,EFAE/F,ACTnB,EAAqB,ALwBZ,CGfeO,AHeFnF,CMfb,CNeeJ,CMftB,CFAa,ACTW2I,ILwBJ,CAAb,EAAwBtI,EGfd,AHegBL,CGfG,AETjB,KFSsBmF,AHeV,CAAxB,CIfgC,CDAtB,AHeyB7E,CGf1C,GCA4CmH,EJerC,EAA2ClH,MAA3C,CAAL,EAAyD,MIf9C,CJeqD,CIfC,IAAtD,AJe8C,CIf7D;ADCE,ACAF,ACTD,ACSE,ANeE,UIfC,CDAGiF,IAAL,ACAOmD,UAAT,EAAqB,KAAKA,UAAL;ADCnB,ACAH,AEAA,ANeE,OAND,IGTOxD,EHeA,CGfL,CAASM,WAAT,CAAqB,KAAKH,SAA1B;AACD,AHeC,YAAIpE,OAAO9B,OAAO8B,IAAP,CAAYd,CAAZ,CAAX;AGdH,AHeG,YAAIe,YAAJ,QKzBQ;AACV,ALyBEnB,UKzBIqI,MAAMvG,CLyBDZ,KAAKlB,GKzBKsI,GLyBnB,CIhBKO,EEAEuB,QFAQ,ACTL,CAAwB,GCSf,GDTT,CAAZ;ADUA,ACTA,ACSA,ANgBE,UIhBE,ACTA/B,ACSA+B,CFAC,CJgBChL,EKzBEmJ,EDSEb,GJgBGxG,EMhBEsI,ENgBT,CIhBN,AJgBkBnJ,CAAZ,CIhBc,CCThB,ALyBiBL,CMhBrB,CDTA,CCSwBoK,CDTC,ELyBnB,KAA0BpK,GMhBGwJ,GNgBjC,EAAsC,EMhBhB,KNgBuB,KAAP;AIfxC,ACTE,ACSF,ANgBE,UIhBEX,ECTEL,CCSCqC,ENgBE7K,MKzBMqI,ACSAyC,CFAC,CJgBd,EKzBiBhF,ALyBA,EIhBErD,CEAd,EAAP,EFAgB,CAAW1B,ECTzB,QDSc,CAAsB8H,QAAtB,CAAhB,EAAiD;AAC/C,ACTA,ACSH,ANgBK1H,YIhBI2H,CCTD,GLyBG5H,CKzBCpB,IAAI0I,ALyBAxI,GIhBK6I,GDDf,AHiBK,CKzBY7I,ALyBlB,MIhBF,ACTa,GAAgB,CAA7B,EAAgCF,KAAK,CAArC,EAAwCA,GAAxC,EAA6C;AFS/C,ACCE,ACTEuI,ALyBA,WGjBC3C,CCCCoD,ECTEL,ALyBA,EAAEpI,EAAEe,OGjBZ,ACCmB0H,ACTf,CFQgB,AERAN,KFQKlD,CHiBf,CKzBiBoD,ALyBAvH,GAAjB,CKzBU,CAAYrB,CAAZ,CFQpB,AERI,CLyB+B,KIhBKV,AJgBA6B,MIhBtC,CJgBiC,CIhBa,AJgBAb,EAAEe,GAAF,CAAb,EAAqBd,EAAEc,GAAF,CAArB,EAA6Bb,MAA7B,EAAqCC,MAArC,CAA3B,CAAJ,EAA8E,OAAO,KAAP;AGhBnF,ACCK,ACTD,ALyBA,eIhBM,IAAIY,GAAT,IAAgB2H,SAAhB,EAA2B;AACzB,ACTJ,ALyBD,YKzBK,IDSI,CCTCF,IDSI9D,KAAL,CAAW3D,ACTnB,EAAqB,CDSb,ICTkByH,CDSC,KAAK9D,ICTX,CDSM,CAAW3D,GAAX,MAAoB2H,UAAU3H,GAAV,CAA3C,EAA2D,KAAK2D,KAAL,CAAW3D,GAAX,IAAkB2H,UAAU3H,GAAV,CAAlB;AAC5D,ACTJ,ALyBDb,aAAOe,GAAP;AIfG,ACTH,ALyBAd,WKzBKgJ,ELyBElI,GAAP,UKzBA,SFOasE,UAAU;AAAA,ACGtB,ACTD,ACMJ,ANmBI,WKzBKQ,ELyBE,IAAP,CKzBA,GAAe,IAAInB,OAAJ,CAAY,OAAZ,EAAqB,IAArB,CAAf;ADUA,ACTA,ALyBD,UIhBK6D,ACTA,KAAKhB,ODSOgB,UCThB,EAA4B,QDSQzJ,MAApC,EAA4C;ADH5C,ACIE,ACTA,UFKIwG,GCIC,ACTA,IDSIzE,ACTAA,GAAT,CDSA,GCTgB,CDSA0H,EDJK/G,EELA+F,IDSrB,EAA0B,CDJIhC,UEL9B,EAAwC,CFKnB,CAAuB,KAAvB,CAAvB;AACAD,ACII,ACTA,ACIRzD,OAAOC,OFKK,ACTA,ACIZ,GAAiBsH,EFKA5E,ACTA+C,EFKErD,EGDnB,CFKY,CAAWrD,IAAX,CDJR,GAA2B,CCIA,ECTnB,CAAuBA,CFKC+D,CCIAJ,CCTxB,CFKmB,CAASvC,AELA2F,EDST,CAAW/G,IAAX,ECTvB,EAA2C,EDSA0H,EDJ/C,CELoDhB,MDSI1G,IAAT,CAA3C,EAA0D,ICTf,CAAuBA,GAAvB,EAA4B+G,SAA5B;AFM/C,ACIM,ACTF,UFKApC,IELI,GDSGhB,ECTE+C,GDSP,CDJWjC,ACIAzE,IAAX,GJeEA,CIfgB0H,IJeXvH,CKxBL,CAAuBH,CFKC2E,ECIC3E,ACTzB,EAA4BsI,ALwBhBlI,EIfI,CAAlB,GDJN,GHmB6B,EKxBzB,EAA6C,KAAKsG,iBAAL,CAAuB1G,GAAvB,EAA4BsI,WAA5B;AFMjD1D,ACIK,ACTF,ALwBH,UAAI,CAAC5E,CGnBC6E,EHmBF,EGnBJ,CAAWF,CHmBC,CAACxE,KAAb,EAAoB,CGnBpB,EAAuByC,OAAvB,CAA+B,gBAAQ;AACrC,ACIC,ACTF,ALwBCvC,YGnBMyE,IHmBExE,GGnBKyC,EHmBb,CAAc,EGnBIK,WAAlB,2BHmBA;AGlBA,ACID,ACTD,ALwBE,UKxBE,EFKI2B,GELCyC,GFKK,OELd,EAAqB,KFKnB,AELwBA,UAAL;AFMnB,ACIH,ACTA,ALwBE,YGnBK,MAAKvD,aAAL,CAAmBlB,IAAnB,CAAJ,EAA8B;AAC5B,AHmBJ,UAAIxC,MGnBKyE,GHmBI,IGnBT,AHmBaxE,CGnBAuC,GHmBJ,CGnBT,CHmBJ;AGlBI,AHmBJxC,aAAOE,CGnBCsE,IAAIrB,EHmBZ,CAAenD,CGnBP,CAASuE,IAAT,CAAJ,AHmBkBpE,EGnBE,KHmBT,CGnBcuE,IHmBK7E,OGnBV,AHmBxB,CGnByC2C,IAAjB,EAAuBmC,OAAOC,EAA9B;AACrB,AHmBHxE,eAASC,MAAT,GAAqBZ,GAArB,SAA4BG,KAA5B,iBAA6CI,MAA7C;AGlBEiE,AHmBH,EIpGqBrD,ACACA,eFiFVmD,WAAT,CAAqBvB,IAArB;AACD,OARD;AASD,ACCH,ACTA;8BL2BY5E,MAAM;AACd,UAAM0C,cAAcF,SAASC,MAAT,CAAgBnC,KAAhB,CAAsB,GAAtB,CAApB;AIlBJuC,ACTAA,AL4BI,OInBGC,ACTAA,IL4BE,GInBT,ACTA,CL4BatC,EInBI0H,ACTAuB,EL4BA,CAAb,EAAgBjJ,IInBpB,AJmBwBkC,CK5BxB,CFSUkC,MAAM,IHmBoBlE,MAAhC,EAAwCF,GAAxC,EAA6C;AGnBjC,AHoBV,YAAImC,aAAaD,YAAYlC,CAAZ,EAAeF,KAAf,CAAqB,GAArB,CAAjB;AACA,YAAIqC,WAAW,CAAX,MAAkB3C,IAAtB,EAA4B;AGpB9B,AHqBI,UGrBEiH,OHqBKtE,KGrBOiC,KAAKsC,CHqBD,CAAX,CAAP,OGrBJ;AACAT,AHqBG,YGrBGC,IAAN,CAAWO,SAAX,EAAsBxC,OAAtB,CAA8B,gBAAQ;AACpC,AHqBD,YGrBO0C,WAAWC,KAAKpH,IAAtB;AACA,AHqBF,YGrBM,CHqBC,EAAP,IGrBWqH,WAAL,CAAiBF,QAAjB,CAAJ,EAAgC;AAC9B,AHqBL,cGrBWrC,MAAMqC,SAASG,SAAT,CAAmB,CAAnB,CAAZ;AACA,cAAM/C,MAAM6C,KAAKpF,KAAjB;AACA,cAAI,OAAKuF,gBAAL,CAAsBzC,GAAtB,CAAJ,EAAgC;AAC9B,mBAAK0C,YAAL,CAAkB5C,CHoBb5E,GGpBL,EAAwB,CHoBb,MGpBkB4F,GAA7B,EAAkCrB,GAAlC,EAAuCO,GAAvC;AACD,AHoBL,WGtBI,AHsBClC,MGpBM,GHoBX,CAAe5C,IAAf,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B;AGnBM,AHoBP,gBGpBWsE,WAAJ,GAAkBO,IAAlB,CAAuBD,IAAvB,EAA6B,OAAKgB,GAAlC,EAAuCrB,GAAvC,EAA4CO,GAA5C;AACD;AACD;AACD;AACF,OAZD;AAaD;AHkBH;;kCGhBgBa,IAAI;AAChB,AHgBJ9C,OAAOC,GGhBGuD,IHgBV,GAAiBzG,IGhBI4C,CHgBrB,QGhB8BiF,sBAAT,EAAjB;AACA,UAAIC,cAAJ;AACA,aAAOA,UAAU/B,GAAGgC,UAApB,EAAgC;AAC9BtB,iBAASF,WAAT,CAAqBuB,KAArB;AACD;AACD,aAAOrB,QAAP;AACD;;;gCAEWzB,MAAML,KAAK;AACrB,UAAID,WAAJ,GAAkBqC,IAAlB,CAAuB/B,IAAvB,EAA6B,KAAKgB,GAAlC,EAAuCrB,GAAvC;AACD;;;iCAEYK,MAAMd,IAAIS,KAAKqD,OAAO;AACjC,UAAMC,YAAYD,MAAMtH,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAlB;AACA,UAAMwH,SAASvD,IAAIlE,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,EAAsBC,KAAtB,CAA4B,GAA5B,CAAf;AACA,UAAIgF,KAAKxB,EAAT;AACAgE,aAAOrD,OAAP,CAAe,aAAK;AAClB,YAAIsD,MAAM,MAAV,EAAkB;AAClBzC,aAAKA,GAAGyC,CAAH,CAAL;AACD,OAHD;AAIA,UAAIF,aAAavC,EAAjB,EAAqBV,KAAKa,gBAAL,CAAsBoC,SAAtB,EAAiCvC,GAAGT,IAAH,CAAQf,EAAR,CAAjC,EAA8C,KAA9C;AACtB;;;gCAEWsD,MAAM;AAChB,aAAOA,KAAKY,OAAL,CAAa,KAAb,MAAwB,CAA/B;AACD;;;qCAEgBJ,OAAO;AACtB,aAAOA,MAAMI,OAAN,CAAc,IAAd,MAAwB,CAA/B;AACD;;;kCAEapD,MAAM;AAClB,aAAOA,KAAKqD,QAAL,KAAkB,CAAzB;AACD;;AAED;AACA;AACA;;;;;;AAEF;;;AACApF,OAAOC,OAAP,GAAiB4C,OAAjB","file":"index.map","sourceRoot":"../src","sourcesContent":["class Utils {\n  constructor() {\n    this.toString = Object.prototype.toString;\n  }\n\n  getQuery(name) {\n    let parts = window.location.search.replace('?', '').split('&');\n    let params = {};\n    for (let i = 0, len = parts.length; i < len; i++) {\n      let pairs = parts[i].split('=');\n      params[pairs[0]] = pairs[1];\n    }\n    if (params[name]) {\n      return params[name];\n    } else {\n      return '';\n    }\n  }\n\n  isFunction(func) {\n    return this.toString.call(func) === '[object Function]';\n  }\n\n  isEqual(a, b, aStack, bStack) {\n    // === 结果为 true 的区别出 +0 和 -0\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // typeof null 的结果为 object ，这里做判断，是为了让有 null 的情况尽早退出函数\n    if (a == null || b == null) return false;\n    // 判断 NaN\n    if (a !== a) return b !== b;\n    // 判断参数 a 类型，如果是基本类型，在这里可以直接返回 false\n    let type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b !== 'object') return false;\n    // 更复杂的对象使用 deepEq 函数进行深度比较\n    return this.deepIsEqual(a, b, aStack, bStack);\n  }\n\n  deepIsEqual(a, b, aStack, bStack) {\n    // a 和 b 的内部属性 [[class]] 相同时 返回 true\n    let className = this.toString.call(a);\n    if (className !== this.toString.call(b)) return false;\n    switch (className) {\n    case '[object RegExp]':\n    case '[object String]':\n      return `${a}` === `${b}`;\n    case '[object Number]':\n      if (+a !== +a) return +b !== +b;\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      return +a === +b;\n    }\n\n    let areArrays = className === '[object Array]';\n    // 不是数组\n    if (!areArrays) {\n      // 过滤掉两个函数的情况\n      if (typeof a !== 'object' || typeof b !== 'object') return false;\n      let aCtor = a.constructor;\n      let bCtor = b.constructor;\n      // aCtor 和 bCtor 必须都存在并且都不是 Object 构造函数的情况下，aCtor 不等于 bCtor， 那这两个对象就真的不相等啦\n      if (aCtor !== bCtor && !(this.isFunction(aCtor) && aCtor instanceof aCtor && this.isFunction(bCtor) && bCtor instanceof bCtor) && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n\n    aStack = aStack || [];\n    bStack = bStack || [];\n    let length = aStack.length;\n    // 检查是否有循环引用的部分\n    while (length--) {\n      if (aStack[length] === a) {\n        return bStack[length] === b;\n      }\n    }\n    aStack.push(a);\n    bStack.push(b);\n    // 数组判断\n    if (areArrays) {\n      length = a.length;\n      if (length !== b.length) return false;\n      while (length--) {\n        if (!this.isEqual(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      let keys = Object.keys(a);\n      let key;\n      length = keys.length;\n      if (Object.keys(b).length !== length) return false;\n      while (length--) {\n        key = keys[length];\n        if (!(b.hasOwnProperty(key) && this.isEqual(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  setCookie(key, value, setdate) {\n    if (!key || !value) {\n      console.error('set cookie error: key or value is null');\n      return;\n    }\n    let mydate = new Date();\n    mydate.setDate(mydate.getDate() + setdate);\n    document.cookie = `${key}=${value};expirse=${mydate}`;\n  }\n\n  getCookie(name) {\n    const cookieArray = document.cookie.split(';');\n    for (let i = 0; i < cookieArray.length; i++) {\n      let cookieName = cookieArray[i].split('=');\n      if (cookieName[0] === name) {\n        return cookieName[1];\n      }\n    }\n    return '';\n  }\n\n  removeCookie(name) {\n    this.setCookie(name, -1, -1);\n  }\n}\n\n// export default Utils;\nmodule.exports = Utils;\n","// import Utils from './Utils';\nconst Utils = require('./Utils');\n\nclass Lifecycle {\n  constructor() {\n    this.declareTemplate = '';\n    this.state = {};\n    this.utils = new Utils();\n  }\n\n  $onInit() {}\n\n  $beforeMount() {}\n\n  $afterMount() {}\n\n  $onDestory() {}\n\n  $hasRender() {}\n\n  $watchState(oldData, newData) {}\n\n  setState(newState) {\n    if (newState && this.utils.isFunction(newState)) {\n      const _newState = newState();\n      if (_newState && _newState instanceof Object) {\n        for (var key in _newState) {\n          if (this.state[key] && this.state[key] !== _newState[key]) this.state[key] = _newState[key];\n        }\n      }\n    }\n    if (newState && newState instanceof Object) {\n      for (let key in newState) {\n        if (this.state[key] && this.state[key] !== newState[key]) this.state[key] = newState[key];\n      }\n    }\n  }\n}\n\n// export default Lifecycle;\nmodule.exports = Lifecycle;\n","// import Utils from './Utils';\nconst Utils = require('./Utils');\n\nclass Watcher {\n  constructor(data, watcher, updater, render) {\n    this.data = data;\n    this.watcher = watcher;\n    this.updater = updater;\n    this.render = render;\n    this.watchData(this.data);\n    this.utils = new Utils();\n  }\n\n  watchData(data) {\n    if (!data || typeof data !== 'object') return;\n    const vm = this;\n    for (let key in data) {\n      let val = data[key];\n      vm.watchData(val);\n      Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: false,\n        get() {\n          return val;\n        },\n        set(newVal) {\n          if (vm.utils.isEqual(newVal, val)) return;\n          const oldData = {};\n          oldData[key] = val;\n          const newData = {};\n          newData[key] = newVal;\n          val = newVal;\n          vm.watchData(val);\n          if (vm.watcher) vm.watcher(oldData, newData);\n          if (vm.updater) vm.updater(key, newVal);\n          if (vm.render) vm.render();\n        },\n      });\n    }\n  }\n}\n\n// export default Watcher;\nmodule.exports = Watcher;\n","class CompileUtil {\n  _getVMVal(vm, exp) {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      if (v === 'this') return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  _setVMVal(vm, exp, value) {\n    var val = vm;\n    exp = exp.split('.');\n    exp.forEach((k, i) => {\n      if (i < exp.length - 1) {\n        val = val[k];\n      } else {\n        val[k] = value;\n      }\n    });\n  }\n\n  text(node, vm, exp) {\n    this.bind(node, vm, exp, 'text');\n  }\n\n  bind(node, vm, exp, dir) {\n    const updaterFn = this[`${dir}Updater`];\n    if (dir === 'model') {\n      updaterFn && updaterFn(node, this._getVMVal(vm, exp), exp, vm);\n    } else {\n      updaterFn && updaterFn(node, this._getVMVal(vm, exp));\n    }\n  }\n\n  textUpdater(node, value) {\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  htmlUpdater(node, value) {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  classUpdater(node, value, oldValue) {\n    let className = node.className;\n    className = className.replace(oldValue, '').replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  modelUpdater(node, value, exp, vm) {\n    node.value = typeof value === 'undefined' ? '' : value;\n    const val = exp.replace(/(this.state.)|(this.props)/, '');\n    const fn = function () {\n      if (/(this.state.).*/.test(exp)) vm.state[val] = node.value;\n      if (/(this.props.).*/.test(exp)) vm.props[val] = node.value;\n    };\n    node.addEventListener('change', fn, false);\n  }\n}\n\nclass Compile {\n  constructor(el, vm) {\n    this.$vm = vm;\n    this.$el = this.isElementNode(el) ? el : document.querySelector(el);\n    if (this.$el) {\n      this.$fragment = this.node2Fragment(this.$el);\n      this.init();\n      this.$el.appendChild(this.$fragment);\n    }\n  }\n\n  init() {\n    this.compileElement(this.$fragment);\n  }\n\n  compileElement(fragment) {\n    const elementCreated = document.createElement('div');\n    elementCreated.innerHTML = this.$vm.declareTemplate;\n    let childNodes = elementCreated.childNodes;\n    Array.from(childNodes).forEach(node => {\n      const text = node.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/;\n      if (this.isElementNode(node)) {\n        this.compile(node);\n        if (reg.test(text)) this.compileText(node, RegExp.$1);\n      }\n      fragment.appendChild(node);\n    });\n  }\n\n  compile(node) {\n    const nodeAttrs = node.attributes;\n    Array.from(nodeAttrs).forEach(attr => {\n      const attrName = attr.name;\n      if (this.isDirective(attrName)) {\n        const dir = attrName.substring(3);\n        const exp = attr.value;\n        if (this.isEventDirective(dir)) {\n          this.eventHandler(node, this.$vm, exp, dir);\n        } else {\n          new CompileUtil().bind(node, this.$vm, exp, dir);\n        }\n        // node.removeAttribute(attrName);\n      }\n    });\n  }\n\n  node2Fragment(el) {\n    const fragment = document.createDocumentFragment();\n    let child;\n    while (child === el.firstChild) {\n      fragment.appendChild(child);\n    }\n    return fragment;\n  }\n\n  compileText(node, exp) {\n    new CompileUtil().text(node, this.$vm, exp);\n  }\n\n  eventHandler(node, vm, exp, event) {\n    const eventType = event.split(':')[1];\n    const fnList = exp.replace('()', '').split('.');\n    let fn = vm;\n    fnList.forEach(f => {\n      if (f === 'this') return;\n      fn = fn[f];\n    });\n    if (eventType && fn) node.addEventListener(eventType, fn.bind(vm), false);\n  }\n\n  isDirective(attr) {\n    return attr.indexOf('es-') === 0;\n  }\n\n  isEventDirective(event) {\n    return event.indexOf('on') === 0;\n  }\n\n  isElementNode(node) {\n    return node.nodeType === 1;\n  }\n\n  // isTextNode(node) {\n  //   return node.nodeType == 3;\n  // }\n}\n// export default Compile;\nmodule.exports = Compile;\n","// import Lifecycle from './Lifecycle';\n// import Compile from './Compile';\n// import Watcher from './Watcher';\nconst Lifecycle = require('./Lifecycle');\nconst Compile = require('./Compile');\nconst Watcher = require('./Watcher');\n\nclass Component extends Lifecycle {\n  constructor(declareTemplateName, props) {\n    super();\n    this.declareTemplateName = declareTemplateName;\n    if (props) {\n      this.preProps = props;\n      this.props = {};\n    }\n    this.declareTemplate = '';\n    this.state = {};\n    this.fatherController = {};\n    // this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n  }\n\n  $initProps(preProps) {\n    if (preProps) {\n      this.preProps = preProps;\n      this.props = {};\n      this.fatherController = window.routerController.declareComponents[this.declareTemplateName].preProps;\n      for (let key in this.fatherController) {\n        if (typeof this.preProps[key] === 'string') this.props[key] = window.routerController.state[this.fatherController[key]];\n        if (this.utils.isFunction(this.preProps[key])) this.props[key] = this.preProps[key];\n      }\n    }\n  }\n\n  $beforeInit() {\n    if (this.preProps) {\n      this.$initProps(this.preProps);\n      this.propsWatcher = new Watcher(this.props, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n    }\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), null, this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    const controllerStateKey = this.preProps[key];\n    window.routerController.state[controllerStateKey] = newVal;\n  }\n\n  $render() {\n    const dom = document.getElementById(`component_${this.declareTemplateName}`);\n    if (dom && dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  $reRender() {\n    const dom = document.getElementById(`component_${this.declareTemplateName}`);\n    if (dom && dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    if (this.$onDestory) this.$onDestory();\n    this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  setProps(newProps) {\n    if (!this.preProps) return;\n    if (newProps && this.utils.isFunction(newProps)) {\n      const _newProps = newProps();\n      if (_newProps && _newProps instanceof Object) {\n        for (var key in _newProps) {\n          if (this.props[key] && this.props[key] !== _newProps[key]) this.props[key] = _newProps[key];\n        }\n      }\n    }\n    if (newProps && newProps instanceof Object) {\n      for (let key in newProps) {\n        if (this.props[key] && this.props[key] !== newProps[key]) {\n          this.props[key] = newProps[key];\n        }\n      }\n    }\n  }\n}\n\n// export default Component;\nmodule.exports = Component;\n","// import Lifecycle from './Lifecycle';\n// import Watcher from './Watcher';\n// import Compile from './Compile';\nconst Lifecycle = require('./Lifecycle');\nconst Watcher = require('./Watcher');\nconst Compile = require('./Compile');\n\nclass Controller extends Lifecycle {\n  constructor() {\n    super();\n    this.declareTemplate = '';\n    this.state = {};\n    this.declareComponents = {};\n  }\n\n  $beforeInit() {\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    for (var componentName in this.declareComponents) {\n      const declareComponent = this.declareComponents[componentName];\n      let propsKey = null;\n      for (let name in declareComponent.preProps) {\n        if (declareComponent.preProps[name] === key) {\n          propsKey = name;\n        }\n      }\n      if (propsKey && newVal !== declareComponent.props[propsKey]) declareComponent.props[propsKey] = newVal;\n    }\n  }\n\n  $mountComponent() {\n    for (let key in this.declareComponents) {\n      if (this.declareComponents[key].$beforeInit) this.declareComponents[key].$beforeInit();\n      if (this.declareComponents[key].$onInit) this.declareComponents[key].$onInit();\n      const domReg = new RegExp(`(\\<)(${key})(\\/>)`, 'g');\n      this.declareTemplate = this.declareTemplate.replace(domReg, (...args) => `<div id=\"component_${key}\"></div>`);\n      if (this.declareComponents[key].$beforeMount) this.declareComponents[key].$beforeMount();\n    }\n  }\n\n  $render() {\n    const dom = document.getElementById('root');\n    if (dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    this.$mountComponent();\n    this.compile = new Compile('#root', this);\n    if (this.declareComponents) {\n      for (let key in this.declareComponents) {\n        if (this.declareComponents[key].$render) this.declareComponents[key].$render();\n        if (this.declareComponents[key].$afterMount) this.declareComponents[key].$afterMount();\n      }\n    }\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  $reRender() {\n    const dom = document.getElementById('root');\n    if (dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n      if (this.$onDestory) this.$onDestory();\n    }\n    this.$mountComponent();\n    this.compile = new Compile('#root', this);\n    if (this.declareComponents) {\n      for (let key in this.declareComponents) {\n        if (this.declareComponents[key].$reRender) this.declareComponents[key].$reRender();\n        if (this.declareComponents[key].$afterMount) this.declareComponents[key].$afterMount();\n      }\n    }\n    if (this.$hasRender) this.$hasRender();\n  }\n}\n\n// export default Controller;\nmodule.exports = Controller;\n","// import Utils from './Utils';\nconst Utils = require('./Utils');\n\nclass Router {\n  constructor() {\n    this.routes = {};\n    this.currentUrl = '';\n    this.lastRoute = null;\n    this.rootDom = null;\n    this.utils = new Utils();\n    window.addEventListener('load', this.refresh.bind(this), false);\n    window.addEventListener('hashchange', this.refresh.bind(this), false);\n  }\n\n  $routeChange(lastRoute, nextRoute) {}\n\n  init(arr) {\n    if (arr && arr instanceof Array) {\n      arr.forEach(route => {\n        if (route.path && route.controller && this.utils.isFunction(route.controller)) {\n          this.route(route.path, route.controller);\n        } else {\n          console.error('need path or controller');\n          return false;\n        }\n      });\n      const rootDom = document.querySelector('#root');\n      this.rootDom = rootDom || null;\n    } else {\n      console.error('no routes exit');\n    }\n  }\n\n  route(path, controller) {\n    this.routes[path] = controller || function () {};\n  }\n\n  refresh() {\n    this.currentUrl = location.hash.slice(1) || '/';\n    if (this.routes[this.currentUrl]) {\n      if (window.routerController) {\n        if (window.routerController.$onDestory) window.routerController.$onDestory();\n        delete window.routerController;\n      }\n      const controller = new this.routes[this.currentUrl]();\n      window.routerController = controller;\n      if (controller.$beforeInit) controller.$beforeInit();\n      if (controller.$onInit) controller.$onInit();\n      this.renderController(controller).then(() => {\n        this.$routeChange(this.lastRoute, this.currentUrl);\n        this.lastRoute = this.currentUrl;\n      }).catch(() => {\n        console.error('route change failed');\n      });\n    }\n  }\n\n  renderController(controller) {\n    const template = controller.declareTemplate;\n    if (template && typeof template === 'string' && this.rootDom) {\n      if (controller.$beforeMount) controller.$beforeMount();\n      this.replaceDom(controller).then(() => {\n        if (controller.$afterMount) controller.$afterMount();\n      });\n      return Promise.resolve();\n    } else {\n      console.error('renderController failed: template or rootDom is not exit');\n      return Promise.reject();\n    }\n  }\n\n  replaceDom(controller) {\n    if (controller.$render) controller.$render();\n    return Promise.resolve();\n  }\n}\n\n// export default Router;\nmodule.exports = Router;\n","// import Utils from './Utils';\n// import Lifecycle from './Lifecycle';\n// import Watcher from './Watcher';\n// import Compile from './Compile';\n// import Component from './Component';\n// import Controller from './Controller';\n// import Router from './Router';\n//\n// export {\n//   Utils,\n//   Lifecycle,\n//   Watcher,\n//   Compile,\n//   Component,\n//   Controller,\n//   Router,\n// };\n\nconst Utils = require('./Utils');\nconst Lifecycle = require('./Lifecycle');\nconst Watcher = require('./Watcher');\nconst Compile = require('./Compile');\nconst Component = require('./Component');\nconst Controller = require('./Controller');\nconst Router = require('./Router');\n\nmodule.exports = {\n  Utils,\n  Lifecycle,\n  Watcher,\n  Compile,\n  Component,\n  Controller,\n  Router,\n};\n"]}