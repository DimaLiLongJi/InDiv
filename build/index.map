{"version":3,"sources":["Utils.js","Lifecycle.js","Watcher.js","Compile.js","Component.js","Controller.js","Router.js","index.js"],"names":["Utils","toString","Object","prototype","name","parts","window","location","search","replace","split","params","i","len","length","pairs","func","call","a","b","aStack","bStack","type","deepIsEqual","className","areArrays","aCtor","constructor","bCtor","isFunction","push","isEqual","keys","key","hasOwnProperty","pop","value","setdate","console","error","mydate","Date","setDate","getDate","document","cookie","cookieArray","cookieName","setCookie","module","exports","require","Lifecycle","declareTemplate","state","utils","oldData","newData","newState","_newState","Watcher","data","watcher","updater","render","watchData","vm","val","defineProperty","configurable","enumerable","get","set","newVal","CompileUtilForRepeat","exp","valueList","forEach","v","node","dir","index","indexOf","_getVMRepeatVal","_getVMVal","watchValue","text","updaterFn","textContent","reg","test","RegExp","$1","textUpdater","innerHTML","oldValue","space","String","fn","event","preventDefault","target","addEventListener","eventType","fnList","args","match","f","argsList","arg","Number","apply","CompileUtil","fragment","$fragment","vlList","k","bind","isRepeatNode","props","expFather","newElement","cloneNode","nodeAttrs","attributes","Array","from","attrName","attr","isDirective","substring","isEventDirective","eventHandler","appendChild","nodeType","result","Compile","el","$vm","$el","isElementNode","querySelector","node2Fragment","init","compileElement","elementCreated","createElement","childNodes","domRecursion","hasChildNodes","regText","compileText","compile","contains","removeChild","createDocumentFragment","child","firstChild","compileUtil","Component","declareTemplateName","preProps","fatherController","routerController","declareComponents","$initProps","propsWatcher","$watchState","$updateProps","$reRender","stateWatcher","controllerStateKey","dom","getElementById","childs","item","$hasRender","$onDestory","newProps","_newProps","Controller","componentName","declareComponent","propsKey","$beforeInit","$onInit","domReg","$beforeMount","$mountComponent","$render","$afterMount","Router","routes","currentUrl","lastRoute","rootDom","refresh","nextRoute","arr","route","path","controller","hash","slice","renderController","then","$routeChange","catch","template","replaceDom","Promise","resolve","reject"],"mappings":";;;;;;;ACAA,IAAMA,ADAAA,QCAQmD,QAAQ,SAAR,CAAd;ADCE,mBAAc;AAAA,ICCVC;AACJ,uBAAc;AAAA,ADDZ,AEFJ,ICAMsB,ADAA1E,KFEGC,GEFKkD,KFEV,GAAgBjD,AEFE,OFEKC,EEFb,CAAd,MFEoB,CAAiBF,QAAjC;AACD;ACCC,ICFE2D,KDEGP,eAAL,GAAuB,EAAvB;AACA,ACFF,SDEOC,KAAL,GAAa,EAAb,ACFUO,IAAZ,EAAkBC,OAAlB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4C;ADG1C,ACH0C,AKH9C,IAAMhE,KNMGuD,GMNKJ,ENMV,GAAa,GMNK,CNMDnD,KAAJ,EAAb,CMNU,CAAd;ANOG,AMNH,IAAMoD,YAAYD,QAAQ,KPIf/C,MAAM,EOJC,CAAlB;AHDA,AEAA,ANMI,AEFA,AKFJ,IHFMgD,AEAApD,ACEA4D,KLEGC,CFEDxD,EMNM8C,CJIV,CKFYA,EHFEA,AFIFU,EFEAvD,EMNM,AJIlB,EKFoB,EHFE,CJMHC,IMNT,CAAd,GNMgB,AOJA,CPIgBC,AOJhC,GHFkB,CAAlB,EJMgB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,EAAwCC,KAAxC,CAA8C,GAA9C,CAAZ;AILJ,AJMI,AEFA,AKFJ,IHFM8H,AGEAA,KLEG1E,CFEDnD,IINQwC,AGEAA,ELEZ,GFEa,AEFEW,EFEf,CINoB,AGEA,ILEpB,ICJQI,GCAI,AGEA,CJFAS,ACAhB,AGEA,KJFqB;AACjB,ACAJ,ACFA,ALQI,AEFA,AKFJ,IHFMf,ACFAR,ACEA2I,ACEAhC,KLEGhG,CCJCa,CHMD,GINOzB,CJMHvC,CKRKuC,AHMd,AKFcA,GPID,AEFEY,CFEV,EGNaY,ACAE,AJMJ9D,EKRM,AEIA,EJFAJ,ADItB,EFEsBJ,KGNJ,ACAN,CDAkB,ACAlC,AJMgCS,GKRd,AEIA,CJFI,AEFtB,AEIA,EJFwC,AHMpC,EGNkB,AHMkBF,EGNIF,EHMAG,GGNtB,AHMlB,CGN8C,CHMDD,EGN3B,CAAlB,AHMA,EAAkD;AGLlD,AEFJ,ACEE,ANMI,AEFF,AKFJ,IFJMgD,AEIAwH,KLEGpH,CCJD5B,EHMErB,EKRMoC,CHMZ,EKFeA,CJFHe,ADIEF,ECJd,AGAY,ANME3D,EKRM,EHMpB,CKFuB,CPIHO,CAAN,EAASF,CCAf,CAAE,EIRE,CAAhB,ALQkB,CAAe,GAAf,CAAZ,AOJa,CAAnB;AJDIkE,AEFJ,ACCgB,ANOVjE,AEFF,AKFJ,IHFMoJ,ACFAvB,AEIAuD,KLEG9H,IKFMd,CFJCA,CLQHpC,CGNC8D,EDIV,CAAe,EFEA,AOJI,CFJC,ALQX,CGNT,AHME,CGNgB,ADIEhB,GFEC9C,CEFrB,GKFW,CAAf,CFJgB,ALQe,CKR/B,ALQyB,CAAnB,EGNqB;AACrB,AHMD,AEFD,SAAKwC,GCJCuB,EDIN,GAAa,CCJD,GDIK9E,GCJf,EAAkB,ADIP,EAAb;ACHEoC,AGFF,ANQA,AEFD,AKFHa,IFJMmI,GEIClI,EDJE8I,CNQDrL,IOJR,CDJI,CHEUyB,CHMChC,AOJE,CDJC,EAAd,CNQI,CGNY0E,AHMhB,CGNU,CAAR,AHMgB,WCDL,CAAE;AEJd,ACFH,AEAE,ANQE,AOJJ9E,OJLE,EGCKiM,KCGQ,CPKJtL,IMRT,EFAUqJ,CEAQ,ANQF5J,EMRhB,ENQS,CAAP,aIRJ,EAAiCmH,KAAjC,EAAwC;ADGtC,ACHsC,AECtC,ANQC,AOJHnE,OPEE,EMNK8I,IHEE9J,AHMA,KGNP,AGFA,GAAiB,CCEJ,GDFb;AHGD,AEJD,ACEE,ANQE,AOJJwB,SDJOuI,MNQI,CMRT,CNQE,COPW,CDDE,IAAf,CDFY,UJQA,CAAE;AGRwB,ACA1B,ACGZ,ANQC,AOJH3D,SDJOjF,KAAL,GAAa,CCAA,GDAIvD,KAAJ,EAAb,EJIQ6D,MAAM;AIHdvD,ANQD,AEJC,AKAFyJ,ULAM,CIJGzD,AJIFzC,IAAD,IAAS,GKLA,KDCb,AJIoBA,CIJI,GJIX,GIJb,EAAgC,KAAKuI,OAAL,CAAa/E,IAAb,CAAkB,IAAlB,CAAhC,EAAyD,KAAzD,MJIoBxD,IAAP,OAAgB,QAA7B,EAAuC;AENvC,ACFY,ACKZvD,AJIA,AKAF8K,UHPOpB,AFOC9F,CIJCoC,IJII,IAAX,KKNa,GDEb,CAAwB,CFHxB,GAA2B0D,CHQhB,CAAE,EEJC7F,IGDd,CHCmBQ,CGDmB,IHCd1C,CGDmBmK,IHCd,ACJ7B,GEGsC,CAAa/E,IAAb,CAAkB,IAAlB,CAAtC,EAA+D,KAA/D;AHEA,ACJA,AEGD,ACID0E,QHPMxE,EDIAnF,GCJJ,EAAW,SDIX;AACA,ACJE,ACFF,AHKc,AKJD,CAAjB,SJKUwC,AENDvB,EDEE4G,QAAL,EDIgBtF,CCJA4C,ECFlB,CFMsB9G,ECJpB,ACFqB,EAAvB,CLYSO,EGNS,ADETiB,CCFqB,EDDhB,CFOC,CGNG,EAAkB,EAAlB,EAAsBvB,KAAtB,CAA4B,GAA5B,CAAlB;AACAkE,ACJE,ACFF,ALYA,AEJE,UGRGtB,EDEEiE,AFMDpD,CFIC,EKZP,CFMUU,CCJR,CCFW,ALYD5E,AEJA4D,EENG,ACFf,EDEE,CDIF,ADEiB5B,CCFC,EHMX,AEJK,CFIShB,AEJnB,IFIK,CAAmBD,CCHf,CAAE,EDGN,CGNgB,KHMa,mBAApC;AGLE,ACJD,ACFD,ALYD,AEJGkD,UGRGkG,CHQAnG,CCFCa,MAAM7C,EDEV,CCFA,ADEakC,ECFE,CDEf,GGRF,GAAyB,EAAzB;AFOI/B,ACJJ,ACPY,AHaVlC,UENGmD,KFMIe,GCFGD,GAAR,ICJJ,GAAuB,CFMrB,CENF,AFMwBN,GILbqI,CJKT,EAA4BjK,GAA5B,EAAiC,GILboK,WAAW,CAAE;AHI/B,ACJJ,ACHD,AHSKhI,UENCf,KAAL,GAAa,EAAb,IFMkB,IADiB,IDCzBE,SAASC,SAAS,CAAE;AED3B,ACJH,AFMIa,UENC4F,YFMW,IENhB,CFImC,CFK7BhJ,CITkB,EAAxB,AJSSC,GAAGC,QAAQC,QAAQ;AGJ1Be,ACJF,AJSA,AEHImC,aAH+B,GCCzBnC,MAAM0C,CAAN,CAAR,CGJCwH,KAAK,AJME;ACDT,ACfqC,AEU9B,ANUR,AEHM,OCRN,GHWIpL,MAAMC,CAAV,EAAa,AEHAgD,GAAP,IFGcjD,GCJbwC,GDImB,CAAN,IAAW,ECJd,EDIkBxC,CAAJ,KAAU,IAAIC,CAAhC;AGJb,ACLD,AHMC,ADIA,AEHK,UDDDuC,CCJ+B,ECG5BtB,KAAP,IFCgB,KAAKmB,KAAL,CAAW1B,CIVf,SJUI,CAAsB6B,QAAtB,CAAhB,EAAiD;AEAlD,AETC,AJUE,AKPF,ANWA,AEHIc,UIRA8H,ANWApL,CKdCwJ,CJUG/G,CCL2B,EFS1B,EMXE2I,ENWP,IKdJ,ALciBnL,CCJGuC,EIVA,ELcE,AEHde,EGXgBb,ECGEiE,ANW1B,ECJE,ADI0B,AETO,EAMnB,CGXI,ACGpB,CDHgC,CCGC,ENWE,EKdEvE,GLcT,EKdR,EAAwB,KAAKiH,WAAL,CAAiBlD,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,KAAKmD,YAAL,CAAkBnD,IAAlB,CAAuB,IAAvB,CAArD,EAAmF,KAAKoD,SAAL,CAAepD,IAAf,CAAoB,IAApB,CAAnF,CAApB;AACD,AJUG,AKPAiF,ANWF,AEHM,YDDA3I,AKPAkB,IJQIX,GIRR,AJQWX,CIRC,IJQJ,CDDSI,ACCA5B,OAAT,CAAiB0C,IIRJ,EJQb,EAAyBN,GAAzB,CAAJ,CDDkCjE,CCCC,KDDvC,EAA8C;AAC5C,AKPA,ANWJ,AEHM,UFGFgB,IMXIqL,CLOC,CDICrL,AEHEsC,CFGZ,ECJavB,ADIA,CMXCuK,ELOV,EKPI,ELOY7I,ADIAxC,AEHE,EIRAoL,AJQhB,IFGoBpL,CAAb,CMXesL,CLOxB,EAA2B,OKPvB,IAAkC,MAAKlJ,KAAL,CAAW1B,UAAX,CAAsB0K,MAAME,UAA5B,CAAtC,EAA+E;ALQ7E,AKPA,ANWN,AEHMjJ,gBDDI,EKPC+I,EJQGtK,CDDCqB,EKPT,AJQA,CIRWiJ,CHKdxH,CFEO,CAAW9C,ACCAkC,GDDX,AKPaqI,AJQjB,CCHGrI,ACNA8F,GECH,CLOuB,CEFfhI,AGLesK,ILOKjJ,CEFf0B,ACNA,CECgByH,GLON,CEFL9H,AFEgB1C,GAAX,EEFAgD,CGLvB,GLO2CtB,GEFbO,IAAID,GFEmBhC,GAAV,CAA3C,EAA2D,EEFd,GFEmBqB,KAAL,CAAWrB,GAAX,IAAkB0B,UAAU1B,GAAV,CAAlB;AEDjE,ACNA,AHQK,AKPA,ANWL,AEHM,UCHFG,ACNA6H,AJYA3I,CMbA,KJUQmC,CIRD,CFDX,EAAc,IDMd,AHMkBvC,CAAd,CEHkB,EAAhB,KGZKe,KAAKwC,QAAQ,oBLeNvD,CAAd,CAAJ;AGLA,ACNE,ACHF,AJWG,AKPGoB,ANWN,AEHMmB,UCHFkB,AHMArD,CKfC,EDGE2I,CDMC/E,CETCmG,ILeI,CMXC9I,AJQAN,CCHV,ACNF,CDMcA,CDGV,CETYgI,CDMd,AGLE,CAAc,CJQCxF,CGZrB,CLeI,EGNqB,CAArB,ACNF,ACHwB,CLeCnD,AEHrB,GCHwBqD,CETCyF,GFSGlF,EHME,KGNN,CAAejD,EHMzC,CGN0B,AGLxB,GDJN,ALegD,EKfE,MLeKd,CGNE,AHMT,CGNhD,EAA4D,sCHMLA,CAAP,OAAa,QAA7D,EAAuE,OAAO,KAAP;AGLrEiB,ACNA,ACHA,AJWD,AKPK,ANWN,AEHM+B,YGZEmH,CDGD/D,GDMG,ECNR,AFSU9C,CIRC,EHKEU,ACNA,EAAb,CECI,AJQA,OGZqB,KFSjB,AETsBiF,CFSDjG,GAArB,EAA0BQ,GAA1B,EAA+B1C,GAA/B,CAAR,EETyB,CAAuBoJ,aAAvB,CAAzB;AFUD,ACNC,ACHA,AJWF,AKPK,ANWL,AEHMnH,OCLN,GFIIR,EIXE6H,CFSC,ACNArB,AJYA,EEHEjG,GFGG1C,ICJImC,CIXC,CHYX,CAAaS,EGZjB,CHYI,CETJ,AJYK,CAAiBjD,CAAjB,CIZmBZ,CJYCa,CAApB,EAAuBC,GIZG+I,GHQGjK,ADI7B,EAA+BmB,ICJtC,EAA4C,ADIrC,CAAP,IIZ0B,CAAwB+I,iBAAxB,CAA0C,KAAKJ,mBAA/C,EAAoEC,QAA5F;ADOA7H,ACNA,ACHA,AJWA,AKPC,ANWJ,AEHO,SIfJ,IFMK,ACHA,AJWA,GEFG,ADGA8B,CETCjC,ACHA7B,AJWA6B,ECCE6B,CETX,CDMasB,AETb,AJWA,GGRgB,CCHCkG,AJWD5H,CCCZ,EAAgBQ,CETCgG,CDMb,CAAehG,ADGAJ,ECHf,AFER,EEF2Ba,AFED,GEFlB,ADGY,CCHpB,ADG+BnB,GGZGyG,GDGlC,CFSoB,CETmB,CFSCxG,EGZxC,EAA4C,GHYxB;ACFrB,ACNG,ACHA,AJWA,AKPF,AJQI,YIRE0I,EFDA,ACHAb,AJWA,ECCEpH,GDDGZ,ACCAS,EETE,CECGnB,ELOV,CAAWX,CGRCgI,AFSd,EAAgB/F,CDDd,EIXiB+F,ACIEpB,AJQF9E,GETV,AHQY,CGRE9B,GAAd,AFSO,CETd,ACHA,AJWwBqB,ACCCrB,CGZC7B,EHYZ,EETgB,ACH9B,AJWmB,AKPT,AJQoBqE,CDDAxC,AKPG,ILOd,CIXiBA,AHYtB,EETlB,AECc,CDJd,ACIF,CFD8C,CCHC,AJWFyB,IGRM6D,KAAL,AHQQtF,CGRGA,GAAX,AHQD,CAA3C,EAA0D,CGRI3B,IHQCgD,GGRM6G,EHQX,CAAWlI,IAAX,IAAkByB,KGRd,CAAwBJ,GHQDrB,EGRvB,CAA8B,CHQhB,CAAlB,GGRuCiI,gBAAL,CAAsBjI,GAAtB,CAA9B,CAAlB;ADOhD,ACNI,ACHEsJ,AJWH,AKPD,AJQI,UCHAlG,GGLC8G,CFDC,EFSEjI,GETGX,AFSAS,CIRX,GHKiB,AETF5D,ACIA+L,CFDT,CAAWtK,AFSb,EGZA,AHYeqC,CCHGkB,EDGApB,IIRI,CFDpB,CAAsB,AFST,CCHF,CAAeE,AGLhC,EHKiB,CCNgB+F,CDMGhG,OCNR,CAAchC,CDMzB,CAAnB,CCN8B,CAAtB,CAAJ,EAA+C,KAAKsF,KAAL,CAAWtF,GAAX,IAAkB,KAAKgI,QAAL,CAAchI,GAAd,CAAlB;ADOnD,ACNG,ACHE,AJWJ,AKPA,AJQI,OInBL,IHgBKqD,EGLE,EHKP,CAAUP,IAAV,EAAgBZ,GAAhB,EAAqBlC,GAArB,EAA0BiC,AHKhBhD,EGLV,CHKaC,GAAGC,QAAQC,QAAQ;AGJhC,ACNC,ACHE,AJWJ,AKPGiB,ANUF,AEpBmC,SAAjC,CCeIiD,MGLIhD,KAAR,CHKgB,AGLF,KHKUyC,GAAR,QGLhB,KHKF;AACA,ACND,ACHG,ACID,ANUD,AE3Bc,UF2BVxD,EKdE+J,EFSEvG,GAAR,KHKgB,EKdEP,GLcGxE,QKdQqL,ALcb,CAAcrK,IAAd,CAAmBC,CAAnB,CAAhB,SKd8CqG,KAAjB,CAAuBgE,QAAvB,CAA3B,EAA6DD,iBAAiB/D,KAAjB,CAAuBgE,QAAvB,IAAmC9G,MAAnC;AFU/D,AETC,ACIF,ANUC,UAAIjD,GGLC,OAAL,IHKkB,KAAKvB,QAAL,CAAcgB,IAAd,CAAmBE,CAAnB,CAAlB,EAAyC,OAAO,KAAP;AGJvCoE,AETH,ALcC,AE1BA,WAAK,GF0BG/D,CE1BCS,GAAT,IAAgB4B,CCqBD0B,AHKf,GE1BA,EAAsB,KCqBGtE,IAAV,CAAe,IAAf,EAAqB8D,IAArB,EAA2B3C,KAA3B,EAAkCuC,GAAlC,EAAuC1C,GAAvC,EAA4CgD,KAA5C,EAAmDI,UAAnD,EAA+DpB,SAA/D,EAA0EC,EAA1E,CAAb;AACA,AHKF,AE3BsB,aF2BjB,CE3BIjC,GAAa,aF2BtB,IIZY;ADQZ,ACPA,AJYA,AENC,UENG,GJYC,EIZIgI,QAAT,EAAmB,CECfuC,INWJ,EMXUC,YAAY;AHOpBlH,ACPA,AHMNtC,AKLI,ANWE,AENH,ODAIC,IKLE8I,EFDE3B,CHMX,GAAiBjH,AKLb,ANWS,CMXGoJ,IAAZ,ANWYtL,CGLGqE,ACPb,AJYO,CIZS,EHMtB,AKLwBkH,GFDGxC,IDOEhJ,AHKFE,CAArB,GGLa,ACPb,CDO4B,AEVd,ECIkB,EHMnB,EAAqB4D,IAArB,EAA2B3C,EGNI,CAAE,CAAhD,CHMe,CAAb;AALF,ACDE,ACJc,ACKjB,ANWC,aIZOkI,AJYF,YIZH,GAAoB,EJYtB,EIZ0B1G,OAAJ,CAAY,KAAK2D,KAAjB,EAAwB,KAAKgD,WAAL,CAAiBlD,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,KAAKmD,YAAL,CAAkBnD,IAAlB,CAAuB,IAAvB,CAArD,EAAmF,KAAKoD,SAAL,CAAepD,IAAf,CAAoB,IAApB,CAAnF,CAApB;ADQH,ACPE,AJYC,cAAI,CAACnG,CAAD,KAAO,CAACA,CAAZ,EAAe,OAAO,CAACC,CAAD,KAAO,CAACA,CAAf;AIXjB,ACNgB,ALkBd,WIZGuJ,MJYI,CAACxJ,CAAD,IIZT,CJYgB,CAAP,CIZW,EJYA,EIZI0C,EJYA,CKjBf3B,ALiBgBf,CAAL,EKlBJ,CDMI,CAAY,CJYD,IIZMoC,AJYFnC,CAA1B,GAA8B,CIZnB,AJYoBD,CAAD,CIZK,IJYE,CIZGqJ,AJYFpJ,CAA7C,UIZ0C,CAAiBkG,IAAjB,CAAsB,IAAtB,CAAxB,EAAqD,IAArD,EAA2D,KAAKoD,SAAL,CAAepD,IAAf,CAAoB,IAApB,CAA3D,CAApB;AACD,ACLG,ALiBF,YKjBM,CLiBD,MKjBM+C,SLiBX,EMZQ,MDLF,CAAuBnI,GAAvB,EAA4BuJ,WAAhC,EAA6C,OAAKpB,iBAAL,CAAuBnI,GAAvB,EAA4BuJ,WAA5B;AAC7C,ACIM,ANaR,YKjBM,CLiBD,MKjBMpB,MFWRrF,MAAMZ,AHMT,KGNclC,AEXR,CAAuBA,GAAvB,CFWaiC,CEXeuH,GFWX,IEXrB,EAAyC,OAAKrB,iBAAL,CAAuBnI,GAAvB,EAA4BwJ,OAA5B;AFY3C,AEXE,ALiBA,AETNxI,OAAOC,GCGGoC,EEXEoG,EHQZ,GCGiB3G,AHMJ,AETInB,CFSH1C,CAAD,EKjBQ,CFWCsE,EHMF,AETpB,CGRyBG,ALiBJxE,CAAf,KKjBe,EFWjB,QEXoCc,GAAnB,YAAgC,GAAhC,CAAf;AFYF,AEXE,ACGF,ANIA,UGIMwD,CGRDwG,IDHE5I,CFWK,KGRZ,GAAkB9C,MDHhB,CFWF,ECPW0B,ACJc,ACGEyK,IAAT,CFCFjI,AEDgBkI,EDHFtJ,GCGZ,CAAoB,CAApB,CFCM,IEDoB,GAA5C,EDHyB,CAAqB5C,OAArB,CAA6BiL,MAA7B,EAAqC;AFY9D,ACPA,ACL8D,ACI9D,UHQIjG,ACPEkF,AEDF,IHQIjF,CGRCsG,GHQL,CAAS1G,EGRT,CAAY,CHQZ,CAAJ,EAAoB,CGRC2G,IFCM,KAAKhC,CED5B,CAAJ,EAAkC,CDJ+DhI,GDKtE,ACLmC,CDKrBA,GAAd,CAA3B;ADQE,ACPF3B,ACN8D,ACK5D,ANcF,SKnByB,CAAvB,ALmBEmB,EGNIkD,AGRFrE,CFCC6J,KDOOxE,CGRDwE,GNcG3I,GGNKoE,EAAnB,ECPF,CAAwBtC,KAAxB,AEDE,CFC4BqH,AJaA,CMdC,eNc/B,EIbA,IAAoDlG,MAApD;ADQE,ACPH,ACNG,ACKE,ANcJ,YGNMrC,AEbA,ECKE9B,KDLG8J,ECKID,KHQb,UEbI,CAAuBlI,ACKrB,CAAwBgJ,EDL1B,EAA4BU,MCK9B,EAAwCrL,IDL1C,EAA8C,CCKG6J,MDLEC,UCKT,CAAwBa,MDLpB,CAAuBhJ,GAAvB,ACKJ,EDLgC0J,YAA5B;AFc9C,AEpBc,ACYZ,ANcJ,UAAI,CAAClK,CGNCkD,IAAIO,CGRC5E,GNcX,EAAgB,CGNV,CAAY2B,AGRAkI,GHQZ,MAAqB,CAArB,IAA0BxF,EGR5B,EHQgCO,OAAJ,CAAejD,GAAf,YAA2B,CAAzD,EAA4D;AAC1DG,AGRD,ANcD,kBGNU,KAAK+C,eAAL,CAAqBhB,GAArB,EAA0BQ,GAA1B,EAA+B1C,GAA/B,CAAR;AACD,AErBH,ACaE,ANcA,SGRA,EEnBG,CCaGwK,ANcF,GGNG,AErBAxK,GAAT,EL2Baf,CAAP,CK3BU,GCaK,EDbAkJ,ECaI,CFAjB,IEAsB4B,MAAL,CAAY,GDbrC,EAAwC,ACaEC,UAAjB,CAAJ,EAAnB,GNcW/K,CAAP,OAAa,QAAb,IAAyB,QAAOC,CAAP,yCAAOA,CAAP,OAAa,QAA1C,EAAoD,OAAO,KAAP;AGLlDiB,ACRJ,ACdwC,ACctC9B,ANcA,UIdIsK,EJcAlJ,EK5BGO,CCcAkI,CFAGvH,CCd4B,CFsB5B,EHME1B,EAAES,CGNCyD,ECRIyF,MEAnB,CHQU,CAAe3G,AHMzB,CMd0BuI,CHQhB,EAAmB9H,ECRnB,CDQA,CAAR,GGRF,WFA+C,KAAKqF,mBAA1C,CAAZ;ADSG,ACRH,ACTC,ACSC,ANcA,UIdEY,EEAE6B,ANcA7K,KIdKgJ,GJcGzJ,CIdCkI,CJcC1H,CMdC6J,UNcf,CIdS,AEAT,EFAF,AEA8BiB,EFAE,SEASjB,WAAX;AHS5B,ACRA,ACTH,ACSG,ANcA,YIdIV,AEAA2B,CHQC5G,QCRQ+E,EEAEa,CHQf,CAAiB1G,ACRAoE,IDQjB,CGRA,CHQuB/G,CGRCqK,GFAxB,CDQA,OGRmChB,OAAX;AHSzB,ACRC,AEAA,ANcA,YAAI/J,CIdC,AEAAkL,IFAIhM,IAAIkK,CJcClJ,KAAV,CIdgBd,CEApB,CAAsB2L,CNcC,EAAE,CIdZ,GAAgB,CAA7B,AJc8B5K,EIdEjB,AEAhC,EAAkCiM,GFAG,CAArC,AEAA,CAAuC,CFACjM,AJcf,CAAgBc,EIdzC,EAA6C,CJcpB,KMdoB,ANcMA,iBAAiBA,KAA3C,IAAoD,KAAKG,UAAL,CAAgBD,KAAhB,CAApD,IAA8EA,iBAAiBA,KAAjG,CAAnB,IAA+H,iBAAiBV,CAAjB,IAAsB,iBAAiBC,CAA1K,EAA8K;AGLjL,ACRKyJ,AEAA,ANcA,cIdIlB,GEACoD,ANcE,KAAP,GIdA,CAAgBhC,GEAhB,CAAkB,GFAKC,IAAP,AEAOmB,CFAKtL,CAAZ,CAAhB,MEAA,EAAkC,OAAKqL,UAAvC;AFCD,AEAC,ANcD,iBMdMC,SAAL,GAAiB,CDVb,MCUkBD,UAAtB;AFCH,ACVD,ACUG,ANcF,SMjBC,CDPIrB,CCUDmC,KDVOnK,ACOV,CAGS,QDVUiI,ICUJ,UDVL,CAAwB,MAAxB,CAAZ;ADWA,ACVA,ACUIvI,UDVAsI,CDUCpB,GCVGH,IDUR,AEAY9G,GFAG,EEAX,CAAc,CFACiG,ECVf,EAAJ,EAAyB,CFiBfzD,ACPK,MDOC3C,OAAO,AGPnB,IFAqC,KAAK4H,mBAA/B,EAAsD,IAAtD,CAAf;ADQAjF,ACPA,ACVE,ACUC,ANcH3D,SMnBE,CFKE,CDOCoE,CEjBCsF,GDUGE,AJcA5J,MKxBMwJ,CFiBf,GAAmB,ACPnB,ACVmBzB,ALwBA,EIdE,AJcrB,KGP0B/G,ACPA4I,GCVxB,EFiBiB,KAAiB,ACPf,WDOF,GAA+B,EAA/B,GAAoC5I,KAAvD;AACD,ACPA,ACVG,ACUD,ANcDf,aKxBO,ELwBEA,EKxBET,IAAIkK,ILwBI,EAAnB,CKxBsBhK,MAAP,GAAgB,CAA7B,EAAgCF,KAAK,CAArC,EAAwCA,GAAxC,EAA6C;AAC3CgK,ACUL,ANcC,UAAI9J,IKxBI4I,KLwBKtI,MKxBT,CAAgB0J,ALwBAhK,MAApB,CKxB2BiK,IAAP,CAAYnK,CAAZ,CAAhB;AACD,ALwBH;AKvBC,ALwBD,aAAOE,QAAP,EAAiB,SGRPiE,ACPA,MDOM3C,OAAO;AACvB2C,ACPA,ACTA,ALwBE,UIfI6F,CDOD9E,AEhBA8F,CLwBCxK,IIfMwB,GJeC9B,CGRb,GAAiB,ECPI+J,AJef,CKxBN,IFgBwBzI,CHQClB,CAAvB,EAA0B,CGRX,EGPFuL,EFAH,CDOsB,SGPP,EHOV,GAA+B,CCPC,CDOhC,GAAoCrK,CCPC4H,IDOtD,eCPY,CAAZ;ADQD,ACPC,ACTA,ACSA,ANeI,UIfAY,AEAEoC,CDTDxD,MDSMoB,AJeAvJ,CKxBX,GDSegI,ACTA,ACSEoD,GNeC3L,CKxBC0H,KLwBR,EKxBI,ACSanF,CDTD,CDShB,EAAX,AJe8BlC,CAA1B,CIf4B,ECTjB,EAAqB,IAArB,CAAf,ACSA;AFCE,ACTF,ACSA,ANeG,UKxBC,ACSA6L,EFAElC,GCTGV,MDSMQ,CEAC,GFAGzB,IEAI6D,GDTvB,EAA4B,CDS1B,EEAc,KAAoB,QAAhC,IAA4C,KAAKb,OAArD,EAA8D;AFC5D,ACTA,ACSA,ANeD,YMfKM,CFAC,ACTA,IDSI7L,ACTAqB,GAAT,CDSa6I,EEAEa,CDTC,IDSI7K,CCTCsJ,KDSR,CEAb,EFA6B,AEAAqC,CFA7B,EAAgC7L,KAAK,CAArC,ACTA,EDSwCA,ACTA,ACSA+K,GFAxC,EAA6C,OEAhB;AFC3Bf,ACTA,ACSF,ANeFxJ,aMfO6L,ANeAnL,CIfC4H,ACTA,GLwBR,CAAYxI,CKxBCkJ,ALwBb,IMfE,CAAgBqC,CFAd,CAAgB3B,ODMT/F,ACNgBgG,CEAzB,EDTM,ACSsB8B,CFAV,ACTW5K,CDSCrB,CDMfwB,ACNG,CAAhB,ACTI,ACSN,CAAiC,CDTCyJ,IFeZ9F,GEfpB,EAAyC,ECSJ,GHMP,AEfgBqE,iBAAL,CAAuBnI,GAAvB,EAA4B4J,OAA5B;AFgB7C,ACNG,ACTC,ACSA,ANeJxK,UGTIG,GHSGM,CKxBC,ACSA2K,GNeR,CAAYtL,CKxBCiJ,ALwBb,GGTgBrF,GGNG+G,EHMEtK,SAArB,AEfQ,ACSJ,CDT2BS,CCSCwK,EDTxB,EAA4BX,OCSOA,IDTvC,EAA6C,KAAK1B,ACStB,iBDTiB,CAAuBnI,GAAvB,EAA4B6J,WAA5B;AFgBjDtK,ACNC,ACTE,ACSA,ANeH,SMjBE,SHQUA,UAAUf,OAAV,CAAkBsF,QAAlB,EAA4B,EAA5B,EAAgCtF,OAAhC,CAAwC,KAAxC,EAA+C,EAA/C,CAAZ;AACA,ACNA,ACTC,ACSC,ANeF,UGTMuF,ACNF,AJeAvE,KIfKwJ,AEAAiC,GHMK1L,CHSd,EAAe,EMfE2L,EFAjB,EAAqB,GEAZ,CHMkBlH,CCNDgF,AEAxB,MHMgC7I,ICNb,CDMM,CAAb,GAA6B,GAA7B,GAAmC,EAAjD;AACA2C,ACNA,ACTA,ACSC,ANeCjE,OMrBF,GDHI,CFeCU,ACNAgI,EEAE,EDTEwB,ELwBE9J,CIfX,CJeaJ,CGTb,CCNe,EDMEU,ECNEgH,ACTnB,ALwBE,EKxBmB,KDSN,ACTWwC,GFeGhF,KAAZ,EEfI,CFegB5D,KAArC,CCNyC,KAAK4H,mBAA/B,EAAsD,IAAtD,CAAf;ADOD,ACNC,ACTD,ACSG1H,ANeA,UIfE,EJeExB,GIfGkK,CEACzI,KAAR,CAAc,CNeCpB,EIfjB,AJemBL,EIfE,IJenB,CIfwBkK,CJeC,OAAO,EIfb,GJeM,mCMfzB;AFCH,AEAG,ANeA,eMfOkC,ANeApM,QMfQsM,ANef,EAAiB,IMfV,EAAP;AACD,ANeG,cAAI,CAAC,KAAKrL,OAAL,CAAab,EAAEJ,MAAF,CAAb,EAAwBK,EAAEL,MAAF,CAAxB,EAAmCM,MAAnC,EAA2CC,MAA3C,CAAL,EAAyD,OAAO,KAAP;AMd9D,ANeI,gCKzBO,CFeC0D,MAAM3C,OAAOuC,KAAK1C,KAAKgD,OAAOI,YAAYpB,WAAWC,IAAI;AACpEa,AEfA,ALyBC,OAND,GKnBM6F,CFeDxI,EHUE,GGVP,AEfYQ,GFeC,MEfQiI,CFeDzI,GCNb8I,EDMM,KAAiB,GCNb,ACTL,CAAwB,MAAxB,CFeC,AEfb,GFe4C,EAA/B,GAAoC9I,KAAjD;AACA,ACNA,ACTA,ALyBE,UGVI+B,ACNF,ACTAyG,CDSC,CJgBC5I,EKzBEqH,EFeI1E,ACNFsF,GJgBG/J,CGVGO,ICNhB,EAAoB,AJgBAuB,CGVR,AEfR,CFeuBC,CEf3B,CLyBa,CGVD,AEfa,ALyBAf,CAAZ,CAAX,MGViC,EAAvB,CAAZ;AACA,ACNA,ACTE,ALyBA,UGVIgF,ACNFgF,ECTEJ,ALyBA7I,GGVK,MEfI2I,CDSC,EDMV1E,AHUJ,CKzBiBiD,CFeR,CAAUhD,ACNA5C,IEAZkJ,CHME,ACNK,CAAW5K,CDMC,CEf1B,QDSc,AEAK,CFAiBqJ,QAAtB,CAAhB,EAAiD;ADO/C/E,ACNA,ACTA,ACSF,ANgBErF,UMhBE2L,EFAItB,CCTD,CFeC/E,GEfGxF,ALyBAoB,IKzBI8I,ACSAe,CNgBC/K,EIhBIoK,IDMlB,AEfoBpK,ACStB,ANgBE,EMhBsB2L,IFAtB,ACTa,GAAgB,CAA7B,EAAgC7L,CCSCiL,IDTI,CAArC,EAAwCjL,ACSlB,GDTtB,EAA6C;AFgB7C,ACNA,ACTEgK,ACSJ,ANgBE,YGVIzE,ACNAgF,AJgBAjL,CMhBCgN,CDTCxD,IFeIrD,CHUCrE,EMhBEmL,ENgBT,CGVA,AHUYhM,CGVCiB,ACNA+I,ACTf,ALyBE,CKzBcL,CLyBChK,CMhBd,EHMD,AGNN,GDT2BiK,ALyBrB,EGVuB1F,EEfT,CAAYzE,ALyBAE,CKzBZ,CAAhB,ILyBF,EGVsCmE,ACNA/E,AJgBA,KGVX,CCN3B,CDM6CiE,AHUA,CIhBC,EDMnB,CAA3B,CHUsC,CGVa;AACnDkB,ACNE,ACTD,ACSJ,ANgBG,eIhBO,AJgBAvE,IGVImE,ACNAhD,GAAT,CJgBF,CGVA,CHUiB,CGVCkC,ACNAgH,GDMlB,IAAyBhF,ECNvB,EAA2B,EDMEE,MAAN,CAAajE,KAAtC;AACD,ACNK,ACTJ,ALyBEH,OGdJ,KEXM,IDSI,AJgBAD,CKzBCiJ,IDSI1D,AJgBAzG,KIhBL,CAAWmB,ACTnB,ALyBQ,CAAN,CKzBmB,CDSb,ICTkBgJ,CDSC,KAAK1D,ICTX,CDSM,CAAWtF,GAAX,MAAoBkJ,UAAUlJ,GAAV,CAA3C,EAA2D,KAAKsF,KAAL,CAAWtF,GAAX,IAAkBkJ,UAAUlJ,GAAV,CAAlB;ADOjE8C,ACNK,ACTJ,ALyBG,WGVCuB,GHUG,EAAEnF,EAAEe,SGVZ,CAAsB,IHUZ,CAAiBD,GGV3B,AHUU,EGVsBiE,EAAhC,CHUmC,CGVC,IHUInE,CGVxC,MHUmC,CAAab,EAAEe,GAAF,CAAb,EAAqBd,EAAEc,GAAF,CAArB,EAA6Bb,MAA7B,EAAqCC,MAArC,CAA3B,CAAJ,EAA8E,OAAO,KAAP;AGTnF,ACNI,ACTH,ALyBG,WKzBEuK,eAAL;ADUC,ACTD,ALyBC,WKzBIpC,OAAL,GAAe,IAAIhB,OAAJ,CAAY,OAAZ,EAAqB,IAArB,CAAf;ADUA,ACTA,ALyBApH,UIhBI8J,ACTA,GLyBG/I,EKzBEiI,CLyBT,MIhBgBc,UCThB,EAA4B,QDSQhL,MAApC,EAA4C;AAC1C,ACTA,ACMN+C,ANmBI5B,OMnBG6B,MFGI,ACTA,ALyBAf,CMnBX,ENmBI,CIhBWF,ACTAA,ACME8J,GDNX,CDSA,EEHN,CDNsB,CDSAb,ICTKd,IFcZrF,ACLT,EAA0B,IDKXb,IAAIS,GEdnB,EFcwBwB,AEdgB,OFcTlE,KAAKkC,KAAK;AAAA,ACJvC,ACTA,ALyBJ,aAAO,CIhBC,ACTA,GLyBR,EIhBaoD,ACTA6C,KDSL,CAAWnI,IAAX,KAAmB,ECTnB,CAAuBA,EDSCsF,CCTxB,EAA4BkD,EDST,CAAWxI,IAAX,ECTvB,EAA2C,EDSAiJ,GCTKd,MDSInI,IAAT,CAA3C,EAA0D,ICTf,CAAuBA,GAAvB,EAA4BwI,SAA5B;ADUzC,ACTF,ALyBL,cKzBS,GDSGlD,ECTE6C,GDSP,CAAWnI,IAAX,IAAkBiJ,KCThB,CAAuBjJ,GDSEA,ACTzB,EAA4B6J,EDSZ,CAAlB,QCTF,EAA6C,KAAK1B,iBAAL,CAAuBnI,GAAvB,EAA4B6J,WAA5B;AFajD,ACHK,ACTF,UFYGvF,YAAYJ,MAAMzF,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAlB;AACA,ACHG,ACTF,UFYK8F,SAAS7B,IAAIlE,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,EAA0BC,KAA1B,CAAgC,GAAhC,CAAf;AACA,ACHC,ACTD,UFYM+F,AEZF,KAAKuE,EFYIrG,IAAI+B,IEZjB,CFYa,CAAU,AEZF,GLwBbzE,EKxBkB+I,GLwBb5I,EGZA,EAAsB,CAAtB,EAAyB3B,AEZjB,ALwBD4B,OGZP,CAAiC,CHYjB,GGZhB,EAAuC,EAAvC,EAA2C3B,KAA3C,CAAiD,GAAjD,CAAb;AACA,ACHD,ACTA,ALwBC,UGZIwF,AHYA,CAACjE,GAAD,CGZKiC,EAAT,CHYY,CAAC9B,KAAb,EAAoB;AGXpBoE,AHYElE,aGZKuC,GHYGtC,IGZV,CAAe,AHYb,CAAc,YGZI,4BHYlB;AGXA,AHYA,YGZIoE,MAAM,MAAV,EAAkB;AAClBT,AHYD,aGZMA,GAAGS,CAAH,CAAL;AACD,AHYD,EIpGoBvD,ACACA,KFqFrB,GHeIZ,SAAS,IAAIC,IAAJ,EAAb;AGX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","file":"index.map","sourceRoot":"../src","sourcesContent":["class Utils {\n  constructor() {\n    this.toString = Object.prototype.toString;\n  }\n\n  getQuery(name) {\n    let parts = window.location.search.replace('?', '').split('&');\n    let params = {};\n    for (let i = 0, len = parts.length; i < len; i++) {\n      let pairs = parts[i].split('=');\n      params[pairs[0]] = pairs[1];\n    }\n    if (params[name]) {\n      return params[name];\n    } else {\n      return '';\n    }\n  }\n\n  isFunction(func) {\n    return this.toString.call(func) === '[object Function]';\n  }\n\n  isEqual(a, b, aStack, bStack) {\n    // === 结果为 true 的区别出 +0 和 -0\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // typeof null 的结果为 object ，这里做判断，是为了让有 null 的情况尽早退出函数\n    if (a == null || b == null) return false;\n    // 判断 NaN\n    if (a !== a) return b !== b;\n    // 判断参数 a 类型，如果是基本类型，在这里可以直接返回 false\n    let type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b !== 'object') return false;\n    // 更复杂的对象使用 deepEq 函数进行深度比较\n    return this.deepIsEqual(a, b, aStack, bStack);\n  }\n\n  deepIsEqual(a, b, aStack, bStack) {\n    // a 和 b 的内部属性 [[class]] 相同时 返回 true\n    let className = this.toString.call(a);\n    if (className !== this.toString.call(b)) return false;\n    switch (className) {\n    case '[object RegExp]':\n    case '[object String]':\n      return `${a}` === `${b}`;\n    case '[object Number]':\n      if (+a !== +a) return +b !== +b;\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      return +a === +b;\n    }\n\n    let areArrays = className === '[object Array]';\n    // 不是数组\n    if (!areArrays) {\n      // 过滤掉两个函数的情况\n      if (typeof a !== 'object' || typeof b !== 'object') return false;\n      let aCtor = a.constructor;\n      let bCtor = b.constructor;\n      // aCtor 和 bCtor 必须都存在并且都不是 Object 构造函数的情况下，aCtor 不等于 bCtor， 那这两个对象就真的不相等啦\n      if (aCtor !== bCtor && !(this.isFunction(aCtor) && aCtor instanceof aCtor && this.isFunction(bCtor) && bCtor instanceof bCtor) && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n\n    aStack = aStack || [];\n    bStack = bStack || [];\n    let length = aStack.length;\n    // 检查是否有循环引用的部分\n    while (length--) {\n      if (aStack[length] === a) {\n        return bStack[length] === b;\n      }\n    }\n    aStack.push(a);\n    bStack.push(b);\n    // 数组判断\n    if (areArrays) {\n      length = a.length;\n      if (length !== b.length) return false;\n      while (length--) {\n        if (!this.isEqual(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      let keys = Object.keys(a);\n      let key;\n      length = keys.length;\n      if (Object.keys(b).length !== length) return false;\n      while (length--) {\n        key = keys[length];\n        if (!(b.hasOwnProperty(key) && this.isEqual(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  setCookie(key, value, setdate) {\n    if (!key || !value) {\n      console.error('set cookie error: key or value is null');\n      return;\n    }\n    let mydate = new Date();\n    mydate.setDate(mydate.getDate() + setdate);\n    document.cookie = `${key}=${value};expirse=${mydate}`;\n  }\n\n  getCookie(name) {\n    const cookieArray = document.cookie.split(';');\n    for (let i = 0; i < cookieArray.length; i++) {\n      let cookieName = cookieArray[i].split('=');\n      if (cookieName[0] === name) {\n        return cookieName[1];\n      }\n    }\n    return '';\n  }\n\n  removeCookie(name) {\n    this.setCookie(name, -1, -1);\n  }\n}\n\nmodule.exports = Utils;\n","const Utils = require('./Utils');\n\nclass Lifecycle {\n  constructor() {\n    this.declareTemplate = '';\n    this.state = {};\n    this.utils = new Utils();\n  }\n\n  $onInit() {}\n\n  $beforeMount() {}\n\n  $afterMount() {}\n\n  $onDestory() {}\n\n  $hasRender() {}\n\n  $watchState(oldData, newData) {}\n\n  setState(newState) {\n    if (newState && this.utils.isFunction(newState)) {\n      const _newState = newState();\n      if (_newState && _newState instanceof Object) {\n        for (var key in _newState) {\n          if (this.state[key] && this.state[key] !== _newState[key]) this.state[key] = _newState[key];\n        }\n      }\n    }\n    if (newState && newState instanceof Object) {\n      for (let key in newState) {\n        if (this.state[key] && this.state[key] !== newState[key]) this.state[key] = newState[key];\n      }\n    }\n  }\n}\n\nmodule.exports = Lifecycle;\n","const Utils = require('./Utils');\n\nclass Watcher {\n  constructor(data, watcher, updater, render) {\n    this.data = data;\n    this.watcher = watcher;\n    this.updater = updater;\n    this.render = render;\n    this.watchData(this.data);\n    this.utils = new Utils();\n  }\n\n  watchData(data) {\n    if (!data || typeof data !== 'object') return;\n    const vm = this;\n    for (let key in data) {\n      let val = data[key];\n      vm.watchData(val);\n      Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: false,\n        get() {\n          return val;\n        },\n        set(newVal) {\n          if (vm.utils.isEqual(newVal, val)) return;\n          const oldData = {};\n          oldData[key] = val;\n          const newData = {};\n          newData[key] = newVal;\n          val = newVal;\n          vm.watchData(val);\n          if (vm.watcher) vm.watcher(oldData, newData);\n          if (vm.updater) vm.updater(key, newVal);\n          if (vm.render) vm.render();\n        },\n      });\n    }\n  }\n}\n\nmodule.exports = Watcher;\n","class CompileUtilForRepeat {\n  _getVMVal(vm, exp) {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      if (v === 'this') return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  _getVMRepeatVal(val, exp, key) {\n    let value;\n    const valueList = exp.replace('()', '').split('.');\n    valueList.forEach(v => {\n      if (v === key) {\n        value = val;\n        return;\n      }\n      value = value[v];\n    });\n    return value;\n  }\n\n  bind(node, val, key, dir, exp, index, vm, watchData) {\n    let value;\n    if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n      value = this._getVMRepeatVal(val, exp, key);\n    } else {\n      value = this._getVMVal(vm, exp);\n    }\n    const watchValue = this._getVMVal(vm, watchData);\n    this.text(node, val, key, vm);\n    const updaterFn = this[`${dir}Updater`];\n    switch (dir) {\n    case 'model':\n      updaterFn && updaterFn.call(this, node, value, exp, key, index, watchValue, watchData, vm);\n      break;\n    default:\n      updaterFn && updaterFn.call(this, node, value);\n    }\n  }\n\n  text(node, val, key, vm) {\n    const text = node.textContent;\n    const reg = /\\{\\{(.*)\\}\\}/g;\n    if (reg.test(text)) {\n      const exp = RegExp.$1;\n      let value;\n      if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n        value = this._getVMRepeatVal(val, exp, key);\n      } else {\n        value = this._getVMVal(vm, exp);\n      }\n      this.textUpdater(node, value);\n    }\n  }\n\n  textUpdater(node, value) {\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  htmlUpdater(node, value) {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  classUpdater(node, value, oldValue) {\n    let className = node.className;\n    className = className.replace(oldValue, '').replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  modelUpdater(node, value, exp, key, index, watchValue, watchData, vm) {\n    node.value = typeof value === 'undefined' ? '' : value;\n    const val = exp.replace(`${key}.`, '');\n    const fn = function (event) {\n      event.preventDefault();\n      if (event.target.value === watchValue[index][val]) return;\n      watchValue[index][val] = event.target.value;\n    };\n    node.addEventListener('change', fn, false);\n  }\n\n  eventHandler(node, vm, exp, event, key, val) {\n    const eventType = event.split(':')[1];\n    const fnList = exp.replace(/\\(.*\\)/, '').split('.');\n    const args = exp.match(/\\((.*)\\)/)[1].replace(/ /g, '').split(',');\n    let fn = vm;\n    fnList.forEach(f => {\n      if (f === 'this') return;\n      fn = fn[f];\n    });\n    const func = (event) => {\n      let argsList = [];\n      args.forEach(arg => {\n        if (arg === '') return false;\n        if (arg === '$event') argsList.push(event);\n        if (/(this.).*/g.test(arg) || /(this.state.).*/g.test(arg) || /(this.props.).*/g.test(arg)) argsList.push(this._getVMVal(vm, arg));\n        if (/\\'.*\\'/g.test(arg)) argsList.push(arg.match(/\\'(.*)\\'/)[1]);\n        if (!/\\'.*\\'/g.test(arg) && /^[0-9]*$/g.test(arg)) argsList.push(Number(arg));\n        if (arg === 'true' || arg === 'false') argsList.push(arg === 'true');\n        if (arg.indexOf(key) === 0 || arg.indexOf(`${key}.`) === 0) argsList.push(this._getVMRepeatVal(val, arg, key));\n      });\n      fn.apply(vm, argsList);\n    };\n    if (eventType && fn) node.addEventListener(eventType, func, false);\n  }\n}\n\nclass CompileUtil {\n  constructor(fragment) {\n    this.$fragment = fragment;\n  }\n\n  _getVMVal(vm, exp) {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      if (v === 'this') return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  _getVMRepeatVal(vm, exp) {\n    const vlList = exp.split(' ');\n    const value = this._getVMVal(vm, vlList[3]);\n    return value;\n  }\n\n  _setVMVal(vm, exp, value) {\n    var val = vm;\n    exp = exp.split('.');\n    exp.forEach((k, i) => {\n      if (i < exp.length - 1) {\n        val = val[k];\n      } else {\n        val[k] = value;\n      }\n    });\n  }\n\n  text(node, vm, exp) {\n    this.bind(node, vm, exp, 'text');\n  }\n\n  bind(node, vm, exp, dir) {\n    const updaterFn = this[`${dir}Updater`];\n    const isRepeatNode = this.isRepeatNode(node);\n    switch (dir) {\n    case 'model':\n      !isRepeatNode && updaterFn && updaterFn.call(this, node, this._getVMVal(vm, exp), exp, vm);\n      break;\n    case 'text':\n      updaterFn && updaterFn.call(this, node, this._getVMVal(vm, exp), exp, vm);\n      break;\n    case 'repeat':\n      isRepeatNode && updaterFn && updaterFn.call(this, node, this._getVMRepeatVal(vm, exp), exp, vm);\n      break;\n    default:\n      !isRepeatNode && updaterFn && updaterFn.call(this, node, this._getVMVal(vm, exp));\n    }\n  }\n\n  textUpdater(node, value) {\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  htmlUpdater(node, value) {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  classUpdater(node, value, oldValue) {\n    let className = node.className;\n    className = className.replace(oldValue, '').replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  modelUpdater(node, value, exp, vm) {\n    node.value = typeof value === 'undefined' ? '' : value;\n    const val = exp.replace(/(this.state.)|(this.props)/, '');\n    const fn = function (event) {\n      event.preventDefault();\n      if (/(this.state.).*/.test(exp)) vm.state[val] = event.target.value;\n      if (/(this.props.).*/.test(exp)) vm.props[val] = event.target.value;\n    };\n    node.addEventListener('change', fn, false);\n  }\n\n  repeatUpdater(node, value, expFather, vm) {\n    const key = expFather.split(' ')[1];\n    const watchData = expFather.split(' ')[3];\n    value.forEach((val, index) => {\n      const newElement = node.cloneNode(true);\n      const nodeAttrs = newElement.attributes;\n      const text = newElement.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/g;\n      if (reg.test(text) && text.indexOf(`{{${key}`) >= 0) {\n        new CompileUtilForRepeat().text(newElement, val, key, vm);\n      }\n      if (nodeAttrs) {\n        Array.from(nodeAttrs).forEach(attr => {\n          const attrName = attr.name;\n          if (this.isDirective(attrName) && attrName !== 'es-repeat') {\n            const dir = attrName.substring(3);\n            const exp = attr.value;\n            if (this.isEventDirective(dir)) {\n              new CompileUtilForRepeat().eventHandler(newElement, vm, exp, dir, key, val);\n            } else {\n              new CompileUtilForRepeat().bind(newElement, val, key, dir, exp, index, vm, watchData);\n            }\n            // node.removeAttribute(attrName);\n          }\n        });\n      }\n      this.$fragment.appendChild(newElement);\n    });\n  }\n\n  isDirective(attr) {\n    return attr.indexOf('es-') === 0;\n  }\n\n  isEventDirective(event) {\n    return event.indexOf('on') === 0;\n  }\n\n  isElementNode(node) {\n    return node.nodeType === 1;\n  }\n\n  isRepeatNode(node) {\n    const nodeAttrs = node.attributes;\n    let result = false;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (attrName === 'es-repeat') result = true;\n      });\n    }\n    return result;\n  }\n}\n\nclass Compile {\n  constructor(el, vm) {\n    this.$vm = vm;\n    this.$el = this.isElementNode(el) ? el : document.querySelector(el);\n    if (this.$el) {\n      this.$fragment = this.node2Fragment(this.$el);\n      this.init();\n      this.$el.appendChild(this.$fragment);\n    }\n  }\n\n  init() {\n    this.compileElement(this.$fragment);\n  }\n\n  compileElement(fragment) {\n    const elementCreated = document.createElement('div');\n    elementCreated.innerHTML = this.$vm.declareTemplate;\n    let childNodes = elementCreated.childNodes;\n    this.domRecursion(childNodes, fragment);\n  }\n\n  domRecursion(childNodes, fragment) {\n    Array.from(childNodes).forEach(node => {\n      if (node.hasChildNodes()) {\n        this.domRecursion(node.childNodes, node);\n      }\n      const text = node.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/g;\n      if (this.isElementNode(node)) {\n        if (reg.test(text)) {\n          const regText = RegExp.$1;\n          if (/(.*\\{\\{(this.state.).*\\}\\}.*)|(.*\\{\\{(this.props.).*\\}\\}.*)/g.test(text)) this.compileText(node, regText);\n        }\n        this.compile(node, fragment);\n      }\n      if (!this.isRepeatNode(node)) {\n        fragment.appendChild(node);\n      } else if (fragment.contains(node)) {\n        fragment.removeChild(node);\n      }\n    });\n  }\n\n  compile(node, fragment) {\n    const nodeAttrs = node.attributes;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (this.isDirective(attrName)) {\n          const dir = attrName.substring(3);\n          const exp = attr.value;\n          if (this.isEventDirective(dir)) {\n            this.eventHandler(node, this.$vm, exp, dir);\n          } else {\n            new CompileUtil(fragment).bind(node, this.$vm, exp, dir);\n          }\n          // node.removeAttribute(attrName);\n        }\n      });\n    }\n  }\n\n  node2Fragment(el) {\n    const fragment = document.createDocumentFragment();\n    let child;\n    while (child === el.firstChild) {\n      fragment.appendChild(child);\n    }\n    return fragment;\n  }\n\n  compileText(node, exp) {\n    new CompileUtil(this.$fragment).text(node, this.$vm, exp);\n  }\n\n  eventHandler(node, vm, exp, event) {\n    const compileUtil = new CompileUtil();\n    const eventType = event.split(':')[1];\n    const fnList = exp.replace(/\\(.*\\)/, '').split('.');\n    const args = exp.match(/\\((.*)\\)/)[1].replace(/\\s+/g, '').split(',');\n    let fn = vm;\n    fnList.forEach(f => {\n      if (f === 'this') return;\n      fn = fn[f];\n    });\n    const func = (event) => {\n      let argsList = [];\n      args.forEach(arg => {\n        if (arg === '') return false;\n        if (arg === '$event') argsList.push(event);\n        if (/(this.).*/g.test(arg) || /(this.state.).*/g.test(arg) || /(this.props.).*/g.test(arg)) argsList.push(compileUtil._getVMVal(vm, arg));\n        if (/\\'.*\\'/g.test(arg)) argsList.push(arg.match(/\\'(.*)\\'/)[1]);\n        if (!/\\'.*\\'/g.test(arg) && /^[0-9]*$/g.test(arg)) argsList.push(Number(arg));\n        if (arg === 'true' || arg === 'false') argsList.push(arg === 'true');\n      });\n      fn.apply(vm, argsList);\n    };\n    if (eventType && fn) node.addEventListener(eventType, func, false);\n  }\n\n  isDirective(attr) {\n    return attr.indexOf('es-') === 0;\n  }\n\n  isEventDirective(event) {\n    return event.indexOf('on') === 0;\n  }\n\n  isElementNode(node) {\n    return node.nodeType === 1;\n  }\n\n  isRepeatNode(node) {\n    const nodeAttrs = node.attributes;\n    let result = false;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (attrName === 'es-repeat') result = true;\n      });\n    }\n    return result;\n  }\n\n  isTextNode(node) {\n    return node.nodeType === 3;\n  }\n}\n\nmodule.exports = Compile;\n","const Lifecycle = require('./Lifecycle');\nconst Compile = require('./Compile');\nconst Watcher = require('./Watcher');\n\nclass Component extends Lifecycle {\n  constructor(declareTemplateName, props) {\n    super();\n    this.declareTemplateName = declareTemplateName;\n    if (props) {\n      this.preProps = props;\n      this.props = {};\n    }\n    this.declareTemplate = '';\n    this.state = {};\n    this.fatherController = {};\n    // this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n  }\n\n  $initProps(preProps) {\n    if (preProps) {\n      this.preProps = preProps;\n      this.props = {};\n      this.fatherController = window.routerController.declareComponents[this.declareTemplateName].preProps;\n      for (let key in this.fatherController) {\n        if (typeof this.preProps[key] === 'string') this.props[key] = window.routerController.state[this.fatherController[key]];\n        if (this.utils.isFunction(this.preProps[key])) this.props[key] = this.preProps[key];\n      }\n    }\n  }\n\n  $beforeInit() {\n    if (this.preProps) {\n      this.$initProps(this.preProps);\n      this.propsWatcher = new Watcher(this.props, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n    }\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), null, this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    const controllerStateKey = this.preProps[key];\n    window.routerController.state[controllerStateKey] = newVal;\n  }\n\n  $render() {\n    const dom = document.getElementById(`component_${this.declareTemplateName}`);\n    if (dom && dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  $reRender() {\n    const dom = document.getElementById(`component_${this.declareTemplateName}`);\n    if (dom && dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    if (this.$onDestory) this.$onDestory();\n    this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  setProps(newProps) {\n    if (!this.preProps) return;\n    if (newProps && this.utils.isFunction(newProps)) {\n      const _newProps = newProps();\n      if (_newProps && _newProps instanceof Object) {\n        for (var key in _newProps) {\n          if (this.props[key] && this.props[key] !== _newProps[key]) this.props[key] = _newProps[key];\n        }\n      }\n    }\n    if (newProps && newProps instanceof Object) {\n      for (let key in newProps) {\n        if (this.props[key] && this.props[key] !== newProps[key]) {\n          this.props[key] = newProps[key];\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = Component;\n","const Lifecycle = require('./Lifecycle');\nconst Watcher = require('./Watcher');\nconst Compile = require('./Compile');\n\nclass Controller extends Lifecycle {\n  constructor() {\n    super();\n    this.declareTemplate = '';\n    this.state = {};\n    this.declareComponents = {};\n  }\n\n  $beforeInit() {\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    for (var componentName in this.declareComponents) {\n      const declareComponent = this.declareComponents[componentName];\n      let propsKey = null;\n      for (let name in declareComponent.preProps) {\n        if (declareComponent.preProps[name] === key) {\n          propsKey = name;\n        }\n      }\n      if (propsKey && newVal !== declareComponent.props[propsKey]) declareComponent.props[propsKey] = newVal;\n    }\n  }\n\n  $mountComponent() {\n    for (let key in this.declareComponents) {\n      if (this.declareComponents[key].$beforeInit) this.declareComponents[key].$beforeInit();\n      if (this.declareComponents[key].$onInit) this.declareComponents[key].$onInit();\n      const domReg = new RegExp(`(\\<)(${key})(\\/>)`, 'g');\n      this.declareTemplate = this.declareTemplate.replace(domReg, (...args) => `<div id=\"component_${key}\"></div>`);\n      if (this.declareComponents[key].$beforeMount) this.declareComponents[key].$beforeMount();\n    }\n  }\n\n  $render() {\n    const dom = document.getElementById('root');\n    if (dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    this.$mountComponent();\n    this.compile = new Compile('#root', this);\n    if (this.declareComponents) {\n      for (let key in this.declareComponents) {\n        if (this.declareComponents[key].$render) this.declareComponents[key].$render();\n        if (this.declareComponents[key].$afterMount) this.declareComponents[key].$afterMount();\n      }\n    }\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  $reRender() {\n    const dom = document.getElementById('root');\n    if (dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n      if (this.$onDestory) this.$onDestory();\n    }\n    this.$mountComponent();\n    this.compile = new Compile('#root', this);\n    if (this.declareComponents) {\n      for (let key in this.declareComponents) {\n        if (this.declareComponents[key].$reRender) this.declareComponents[key].$reRender();\n        if (this.declareComponents[key].$afterMount) this.declareComponents[key].$afterMount();\n      }\n    }\n    if (this.$hasRender) this.$hasRender();\n  }\n}\n\nmodule.exports = Controller;\n","const Utils = require('./Utils');\n\nclass Router {\n  constructor() {\n    this.routes = {};\n    this.currentUrl = '';\n    this.lastRoute = null;\n    this.rootDom = null;\n    this.utils = new Utils();\n    window.addEventListener('load', this.refresh.bind(this), false);\n    window.addEventListener('hashchange', this.refresh.bind(this), false);\n  }\n\n  $routeChange(lastRoute, nextRoute) {}\n\n  init(arr) {\n    if (arr && arr instanceof Array) {\n      arr.forEach(route => {\n        if (route.path && route.controller && this.utils.isFunction(route.controller)) {\n          this.route(route.path, route.controller);\n        } else {\n          console.error('need path or controller');\n          return false;\n        }\n      });\n      const rootDom = document.querySelector('#root');\n      this.rootDom = rootDom || null;\n    } else {\n      console.error('no routes exit');\n    }\n  }\n\n  route(path, controller) {\n    this.routes[path] = controller || function () {};\n  }\n\n  refresh() {\n    this.currentUrl = location.hash.slice(1) || '/';\n    if (this.routes[this.currentUrl]) {\n      if (window.routerController) {\n        if (window.routerController.$onDestory) window.routerController.$onDestory();\n        delete window.routerController;\n      }\n      const controller = new this.routes[this.currentUrl]();\n      window.routerController = controller;\n      if (controller.$beforeInit) controller.$beforeInit();\n      if (controller.$onInit) controller.$onInit();\n      this.renderController(controller).then(() => {\n        this.$routeChange(this.lastRoute, this.currentUrl);\n        this.lastRoute = this.currentUrl;\n      }).catch(() => {\n        console.error('route change failed');\n      });\n    }\n  }\n\n  renderController(controller) {\n    const template = controller.declareTemplate;\n    if (template && typeof template === 'string' && this.rootDom) {\n      if (controller.$beforeMount) controller.$beforeMount();\n      this.replaceDom(controller).then(() => {\n        if (controller.$afterMount) controller.$afterMount();\n      });\n      return Promise.resolve();\n    } else {\n      console.error('renderController failed: template or rootDom is not exit');\n      return Promise.reject();\n    }\n  }\n\n  replaceDom(controller) {\n    if (controller.$render) controller.$render();\n    return Promise.resolve();\n  }\n}\n\nmodule.exports = Router;\n","const Utils = require('./Utils');\nconst Lifecycle = require('./Lifecycle');\nconst Watcher = require('./Watcher');\nconst Compile = require('./Compile');\nconst Component = require('./Component');\nconst Controller = require('./Controller');\nconst Router = require('./Router');\n\nmodule.exports = {\n  Utils,\n  Lifecycle,\n  Watcher,\n  Compile,\n  Component,\n  Controller,\n  Router,\n};\n"]}