{"version":3,"sources":["../src/Utils.js","../src/Lifecycle.js","../src/Watcher.js","../src/Compile.js","../src/Component.js","../src/Controller.js","../src/Router.js","../src/index.js","index.js"],"names":["Utils","toString","Object","prototype","func","call","a","b","aStack","bStack","type","deepIsEqual","className","areArrays","aCtor","constructor","bCtor","isFunction","length","push","isEqual","keys","key","hasOwnProperty","pop","value","setdate","console","error","mydate","Date","setDate","getDate","document","cookie","name","cookieArray","split","i","cookieName","setCookie","Lifecycle","declareTemplate","state","utils","oldData","newData","newState","_newState","Watcher","data","watcher","updater","render","watchData","vm","val","defineProperty","configurable","enumerable","get","set","newVal","CompileUtil","exp","valueList","replace","forEach","v","k","node","bind","dir","updaterFn","_getVMVal","textContent","innerHTML","oldValue","space","String","fn","test","props","addEventListener","Compile","el","$vm","$el","isElementNode","querySelector","$fragment","node2Fragment","init","appendChild","compileElement","fragment","elementCreated","createElement","childNodes","Array","from","text","reg","compile","compileText","RegExp","$1","nodeAttrs","attributes","attrName","attr","isDirective","substring","isEventDirective","eventHandler","createDocumentFragment","child","firstChild","event","eventType","fnList","f","indexOf","nodeType","Component","declareTemplateName","preProps","fatherController","window","routerController","declareComponents","$initProps","propsWatcher","$watchState","$updateProps","$reRender","stateWatcher","controllerStateKey","dom","getElementById","hasChildNodes","childs","removeChild","item","$onDestory","renderDom","$hasRender","newProps","_newProps","Controller","componentName","declareComponent","propsKey","$beforeInit","$onInit","domReg","$beforeMount","Router","routes","currentUrl","lastRoute","rootDom","refresh","nextRoute","arr","route","path","controller","location","hash","slice","$renderComponent","renderController","then","$routeChange","catch","template","replaceDom","$afterMount","Promise","resolve","reject","templateDom","parseDom","id","newTemplate","PComponent","c","log","setState","setProps","ax","R1","pComponent1","getProps","R2","router","old","next"],"mappings":"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","file":"demo.c974167c.map","sourceRoot":"../demo","sourcesContent":["export default class Utils {\n  constructor() {\n    this.toString = Object.prototype.toString;\n  }\n\n  isFunction(func) {\n    return this.toString.call(func) === '[object Function]';\n  }\n\n  isEqual(a, b, aStack, bStack) {\n    // === 结果为 true 的区别出 +0 和 -0\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // typeof null 的结果为 object ，这里做判断，是为了让有 null 的情况尽早退出函数\n    if (a == null || b == null) return false;\n    // 判断 NaN\n    if (a !== a) return b !== b;\n    // 判断参数 a 类型，如果是基本类型，在这里可以直接返回 false\n    let type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b !== 'object') return false;\n    // 更复杂的对象使用 deepEq 函数进行深度比较\n    return this.deepIsEqual(a, b, aStack, bStack);\n  }\n\n  deepIsEqual(a, b, aStack, bStack) {\n    // a 和 b 的内部属性 [[class]] 相同时 返回 true\n    let className = this.toString.call(a);\n    if (className !== this.toString.call(b)) return false;\n    switch (className) {\n    case '[object RegExp]':\n    case '[object String]':\n      return `${a}` === `${b}`;\n    case '[object Number]':\n      if (+a !== +a) return +b !== +b;\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      return +a === +b;\n    }\n\n    let areArrays = className === '[object Array]';\n    // 不是数组\n    if (!areArrays) {\n      // 过滤掉两个函数的情况\n      if (typeof a !== 'object' || typeof b !== 'object') return false;\n      let aCtor = a.constructor;\n      let bCtor = b.constructor;\n      // aCtor 和 bCtor 必须都存在并且都不是 Object 构造函数的情况下，aCtor 不等于 bCtor， 那这两个对象就真的不相等啦\n      if (aCtor !== bCtor && !(this.isFunction(aCtor) && aCtor instanceof aCtor && this.isFunction(bCtor) && bCtor instanceof bCtor) && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n\n    aStack = aStack || [];\n    bStack = bStack || [];\n    let length = aStack.length;\n    // 检查是否有循环引用的部分\n    while (length--) {\n      if (aStack[length] === a) {\n        return bStack[length] === b;\n      }\n    }\n    aStack.push(a);\n    bStack.push(b);\n    // 数组判断\n    if (areArrays) {\n      length = a.length;\n      if (length !== b.length) return false;\n      while (length--) {\n        if (!this.isEqual(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      let keys = Object.keys(a);\n      let key;\n      length = keys.length;\n      if (Object.keys(b).length !== length) return false;\n      while (length--) {\n        key = keys[length];\n        if (!(b.hasOwnProperty(key) && this.isEqual(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  setCookie(key, value, setdate) {\n    if (!key || !value) {\n      console.error('set cookie error: key or value is null');\n      return;\n    }\n    let mydate = new Date();\n    mydate.setDate(mydate.getDate() + setdate);\n    document.cookie = `${key}=${value};expirse=${mydate}`;\n  }\n\n  getCookie(name) {\n    const cookieArray = document.cookie.split(';');\n    for (let i = 0; i < cookieArray.length; i++) {\n      let cookieName = cookieArray[i].split('=');\n      if (cookieName[0] === name) {\n        return cookieName[1];\n      }\n    }\n    return '';\n  }\n\n  removeCookie(name) {\n    this.setCookie(name, -1, -1);\n  }\n}\n","import Utils from './Utils';\n\nexport default class Lifecycle {\n  constructor() {\n    this.declareTemplate = '';\n    this.state = {};\n    this.utils = new Utils();\n  }\n\n  $onInit() {}\n\n  $beforeMount() {}\n\n  $afterMount() {}\n\n  $onDestory() {}\n\n  $hasRender() {}\n\n  $watchState(oldData, newData) {}\n\n  setState(newState) {\n    if (newState && this.utils.isFunction(newState)) {\n      const _newState = newState();\n      if (_newState && _newState instanceof Object) {\n        for (var key in _newState) {\n          if (this.state[key] && this.state[key] !== _newState[key]) this.state[key] = _newState[key];\n        }\n      }\n    }\n    if (newState && newState instanceof Object) {\n      for (let key in newState) {\n        if (this.state[key] && this.state[key] !== newState[key]) this.state[key] = newState[key];\n      }\n    }\n  }\n}\n","import Utils from './Utils';\n\nexport default class Watcher {\n  constructor(data, watcher, updater, render) {\n    this.data = data;\n    this.watcher = watcher;\n    this.updater = updater;\n    this.render = render;\n    this.watchData(this.data);\n    this.utils = new Utils();\n  }\n\n  watchData(data) {\n    if (!data || typeof data !== 'object') return;\n    const vm = this;\n    for (let key in data) {\n      let val = data[key];\n      vm.watchData(val);\n      Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: false,\n        get() {\n          return val;\n        },\n        set(newVal) {\n          if (vm.utils.isEqual(newVal, val)) return;\n          const oldData = {};\n          oldData[key] = val;\n          const newData = {};\n          newData[key] = newVal;\n          val = newVal;\n          vm.watchData(val);\n          if (vm.watcher) vm.watcher(oldData, newData);\n          if (vm.updater) vm.updater(key, newVal);\n          if (vm.render) vm.render();\n        },\n      });\n    }\n  }\n}\n","class CompileUtil {\n  _getVMVal(vm, exp) {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      if (v === 'this') return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  _setVMVal(vm, exp, value) {\n    var val = vm;\n    exp = exp.split('.');\n    exp.forEach((k, i) => {\n      if (i < exp.length - 1) {\n        val = val[k];\n      } else {\n        val[k] = value;\n      }\n    });\n  }\n\n  text(node, vm, exp) {\n    this.bind(node, vm, exp, 'text');\n  }\n\n  bind(node, vm, exp, dir) {\n    const updaterFn = this[`${dir}Updater`];\n    if (dir === 'model') {\n      updaterFn && updaterFn(node, this._getVMVal(vm, exp), exp, vm);\n    } else {\n      updaterFn && updaterFn(node, this._getVMVal(vm, exp));\n    }\n  }\n\n  textUpdater(node, value) {\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  htmlUpdater(node, value) {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  classUpdater(node, value, oldValue) {\n    let className = node.className;\n    className = className.replace(oldValue, '').replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  modelUpdater(node, value, exp, vm) {\n    node.value = typeof value === 'undefined' ? '' : value;\n    const val = exp.replace(/(this.state.)|(this.props)/, '');\n    const fn = function () {\n      if (/(this.state.).*/.test(exp)) vm.state[val] = node.value;\n      if (/(this.props.).*/.test(exp)) vm.props[val] = node.value;\n    };\n    node.addEventListener('change', fn, false);\n  }\n}\n\nexport default class Compile {\n  constructor(el, vm) {\n    this.$vm = vm;\n    this.$el = this.isElementNode(el) ? el : document.querySelector(el);\n    if (this.$el) {\n      this.$fragment = this.node2Fragment(this.$el);\n      this.init();\n      this.$el.appendChild(this.$fragment);\n    }\n  }\n\n  init() {\n    this.compileElement(this.$fragment);\n  }\n\n  compileElement(fragment) {\n    const elementCreated = document.createElement('div');\n    elementCreated.innerHTML = this.$vm.declareTemplate;\n    let childNodes = elementCreated.childNodes;\n    Array.from(childNodes).forEach(node => {\n      const text = node.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/;\n      if (this.isElementNode(node)) {\n        this.compile(node);\n        if (reg.test(text)) this.compileText(node, RegExp.$1);\n      }\n      fragment.appendChild(node);\n    });\n  }\n\n  compile(node) {\n    const nodeAttrs = node.attributes;\n    Array.from(nodeAttrs).forEach(attr => {\n      const attrName = attr.name;\n      if (this.isDirective(attrName)) {\n        const dir = attrName.substring(3);\n        const exp = attr.value;\n        if (this.isEventDirective(dir)) {\n          this.eventHandler(node, this.$vm, exp, dir);\n        } else {\n          new CompileUtil().bind(node, this.$vm, exp, dir);\n        }\n        // node.removeAttribute(attrName);\n      }\n    });\n  }\n\n  node2Fragment(el) {\n    const fragment = document.createDocumentFragment();\n    let child;\n    while (child === el.firstChild) {\n      fragment.appendChild(child);\n    }\n    return fragment;\n  }\n\n  compileText(node, exp) {\n    new CompileUtil().text(node, this.$vm, exp);\n  }\n\n  eventHandler(node, vm, exp, event) {\n    const eventType = event.split(':')[1];\n    const fnList = exp.replace('()', '').split('.');\n    let fn = vm;\n    fnList.forEach(f => {\n      if (f === 'this') return;\n      fn = fn[f];\n    });\n    if (eventType && fn) node.addEventListener(eventType, fn.bind(vm), false);\n  }\n\n  isDirective(attr) {\n    return attr.indexOf('rt-') === 0;\n  }\n\n  isEventDirective(event) {\n    return event.indexOf('on') === 0;\n  }\n\n  isElementNode(node) {\n    return node.nodeType === 1;\n  }\n\n  // isTextNode(node) {\n  //   return node.nodeType == 3;\n  // }\n}\n","import Lifecycle from './Lifecycle';\nimport Compile from './Compile';\nimport Watcher from './Watcher';\n\nexport default class Component extends Lifecycle {\n  constructor(declareTemplateName, props) {\n    super();\n    this.declareTemplateName = declareTemplateName;\n    if (props) {\n      this.preProps = props;\n      this.props = {};\n    }\n    this.declareTemplate = '';\n    this.state = {};\n    this.fatherController = {};\n    // this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n  }\n\n  $initProps(preProps) {\n    if (preProps) {\n      this.preProps = preProps;\n      this.props = {};\n      this.fatherController = window.routerController.declareComponents[this.declareTemplateName].preProps;\n      for (let key in this.fatherController) {\n        if (typeof this.preProps[key] === 'string') this.props[key] = window.routerController.state[this.fatherController[key]];\n        if (this.utils.isFunction(this.preProps[key])) this.props[key] = this.preProps[key];\n      }\n    }\n  }\n\n  $beforeInit() {\n    if (this.preProps) {\n      this.$initProps(this.preProps);\n      this.propsWatcher = new Watcher(this.props, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n    }\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), null, this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    const controllerStateKey = this.preProps[key];\n    window.routerController.state[controllerStateKey] = newVal;\n  }\n\n  $reRender() {\n    const dom = document.getElementById(`component_${this.declareTemplateName}`);\n    if (dom && dom.hasChildNodes()) {\n      let childs = dom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        dom.removeChild(childs.item(i));\n      }\n    }\n    if (this.$onDestory) this.$onDestory();\n    this.renderDom();\n    if (this.$hasRender) this.$hasRender();\n  }\n\n  renderDom() {\n    this.compile = new Compile(`#component_${this.declareTemplateName}`, this);\n  }\n\n  setProps(newProps) {\n    if (!this.preProps) return;\n    if (newProps && this.utils.isFunction(newProps)) {\n      const _newProps = newProps();\n      if (_newProps && _newProps instanceof Object) {\n        for (var key in _newProps) {\n          if (this.props[key] && this.props[key] !== _newProps[key]) this.props[key] = _newProps[key];\n        }\n      }\n    }\n    if (newProps && newProps instanceof Object) {\n      for (let key in newProps) {\n        if (this.props[key] && this.props[key] !== newProps[key]) {\n          this.props[key] = newProps[key];\n        }\n      }\n    }\n  }\n}\n","import Lifecycle from './Lifecycle';\nimport Watcher from './Watcher';\n\nexport default class Controller extends Lifecycle {\n  constructor() {\n    super();\n    this.declareTemplate = '';\n    this.state = {};\n    this.declareComponents = {};\n  }\n\n  $beforeInit() {\n    this.stateWatcher = new Watcher(this.state, this.$watchState.bind(this), this.$updateProps.bind(this), this.$reRender.bind(this));\n  }\n\n  $updateProps(key, newVal) {\n    for (var componentName in this.declareComponents) {\n      const declareComponent = this.declareComponents[componentName];\n      let propsKey = null;\n      for (let name in declareComponent.preProps) {\n        if (declareComponent.preProps[name] === key) {\n          propsKey = name;\n        }\n      }\n      if (propsKey && newVal !== declareComponent.props[propsKey]) declareComponent.props[propsKey] = newVal;\n    }\n  }\n\n  $renderComponent() {\n    // let variableReg = /\\{\\{(.*?)\\}\\}/g;\n    for (let key in this.declareComponents) {\n      if (this.declareComponents[key].$beforeInit) this.declareComponents[key].$beforeInit();\n      if (this.declareComponents[key].$onInit) this.declareComponents[key].$onInit();\n      // const declareTemplate = this.declareComponents[key].declareTemplate.replace(/( )(rt)([A-Z]{1})([A-Za-z]+=\"|[A-Za-z]+=')(this)/g, (...args) => `${args[1]}on${args[3].toLowerCase()}${args[4]}window.routerController.declareComponents.${key}`);\n      const domReg = new RegExp(`(\\<)(${key})(\\/>)`, 'g');\n      // this.declareTemplate = this.declareTemplate.replace(domReg, (...args) => `<div id=\"component_${key}\">${declareTemplate}</div>`);\n      this.declareTemplate = this.declareTemplate.replace(domReg, (...args) => `<div id=\"component_${key}\"></div>`);\n      if (this.declareComponents[key].$beforeMount) this.declareComponents[key].$beforeMount();\n    }\n  }\n\n  $reRender() {\n    // const dom = document.getElementById('route-container');\n    // if (dom.hasChildNodes()) {\n    //   let childs = dom.childNodes;\n    //   for (let i = childs.length - 1; i >= 0; i--) {\n    //     dom.removeChild(childs.item(i));\n    //   }\n    //   if (this.$onDestory) this.$onDestory();\n    // }\n    // if (window.routerController) {\n    //   this.declareTemplate = this.declareTemplate.replace(/( )(rt)([A-Z]{1})([A-Za-z]+=\"|[A-Za-z]+=')(this)/g, (...args) => `${args[1]}on${args[3].toLowerCase()}${args[4]}window.routerController`);\n    // }\n    // dom.innerHTML = this.declareTemplate;\n    if (this.$hasRender) this.$hasRender();\n  }\n}\n","import Utils from './Utils';\n\nexport default class Router {\n  constructor() {\n    this.routes = {};\n    this.currentUrl = '';\n    this.lastRoute = null;\n    this.rootDom = null;\n    this.utils = new Utils();\n    window.addEventListener('load', this.refresh.bind(this), false);\n    window.addEventListener('hashchange', this.refresh.bind(this), false);\n  }\n\n  $routeChange(lastRoute, nextRoute) {}\n\n  init(arr) {\n    if (arr && arr instanceof Array) {\n      arr.forEach(route => {\n        if (route.path && route.controller && this.utils.isFunction(route.controller)) {\n          this.route(route.path, route.controller);\n        } else {\n          console.error('need path or controller');\n          return false;\n        }\n      });\n      const rootDom = document.querySelector('#root');\n      this.rootDom = rootDom || null;\n    } else {\n      console.error('no routes exit');\n    }\n  }\n\n  route(path, controller) {\n    this.routes[path] = controller || function () {};\n  }\n\n  refresh() {\n    this.currentUrl = location.hash.slice(1) || '/';\n    if (this.routes[this.currentUrl]) {\n      if (window.routerController) {\n        if (window.routerController.$onDestory) window.routerController.$onDestory();\n        delete window.routerController;\n      }\n      const controller = new this.routes[this.currentUrl]();\n      window.routerController = controller;\n      if (controller.$beforeInit) controller.$beforeInit();\n      if (controller.$renderComponent) controller.$renderComponent();\n      if (controller.$onInit) controller.$onInit();\n      this.renderController(controller).then(() => {\n        this.$routeChange(this.lastRoute, this.currentUrl);\n        this.lastRoute = this.currentUrl;\n      }).catch(() => {\n        console.error('route change failed');\n      });\n    }\n  }\n\n  renderController(controller) {\n    const template = controller.declareTemplate;\n    if (template && typeof template === 'string' && this.rootDom) {\n      if (controller.$beforeMount) controller.$beforeMount();\n      this.replaceDom(controller).then(() => {\n        if (controller.declareComponents) {\n          for (let key in controller.declareComponents) {\n            if (controller.declareComponents[key].$reRender) controller.declareComponents[key].$reRender();\n            if (controller.declareComponents[key].$afterMount) controller.declareComponents[key].$afterMount();\n          }\n        }\n        if (controller.$afterMount) controller.$afterMount();\n      });\n      return Promise.resolve();\n    } else {\n      console.error('renderController failed: template or rootDom is not exit');\n      return Promise.reject();\n    }\n  }\n\n  replaceDom(controller) {\n    const template = controller.declareTemplate;\n    if (this.rootDom.hasChildNodes()) {\n      let childs = this.rootDom.childNodes;\n      for (let i = childs.length - 1; i >= 0; i--) {\n        this.rootDom.removeChild(childs.item(i));\n      }\n    }\n    let templateDom = this.parseDom(template);\n    let fragment = document.createDocumentFragment();\n    fragment.appendChild(templateDom);\n    this.rootDom.appendChild(fragment);\n    return Promise.resolve();\n  }\n\n  parseDom(template) {\n    const elementCreated = document.createElement('div');\n    elementCreated.id = 'route-container';\n    let newTemplate = null;\n    if (window.routerController) {\n      newTemplate = template.replace(/( )(rt-)([A-Za-z]+=\"|[A-Za-z]+=')(this)/g, (...args) => `${args[1]}on${args[3]}window.routerController`);\n    }\n    elementCreated.innerHTML = newTemplate;\n    return elementCreated;\n  }\n}\n","import Utils from './Utils';\nimport Lifecycle from './Lifecycle';\nimport Watcher from './Watcher';\nimport Compile from './Compile';\nimport Component from './Component';\nimport Controller from './Controller';\nimport Router from './Router';\n\nexport {\n  Utils,\n  Lifecycle,\n  Watcher,\n  Compile,\n  Component,\n  Controller,\n  Router,\n};\n","import { Component, Controller, Router } from '../src';\n\nclass PComponent extends Component {\n  constructor(name, props) {\n    super(name, props);\n    // this.declareTemplate = '<p rt-on:click=\"this.componentClick()\">被替换的组件</p>';\n    // this.declareTemplate = '<p rt-on:click=\"this.componentClick()\" rt-text=\"this.state.b\"></p>';\n    this.declareTemplate = '<p rt-on:click=\"this.componentClick()\">{{this.props.ax}}</p>';\n    // this.declareTemplate = '<p rt-on:click=\"this.componentClick()\" rt-html=\"this.state.c\"></p>';\n    // this.declareTemplate = '<p rt-on:click=\"this.componentClick()\" class=\"b\" rt-class=\"this.state.a\">rt-class</p>';\n    // this.declareTemplate = '<input rt-model=\"this.state.b\" />';\n    this.state = {\n      a: 'a',\n      b: 100,\n      c: '<p>1111</p>',\n    };\n  }\n  $onInit() {\n    console.log('props', this.props);\n  }\n  componentClick() {\n    // alert('点击了组件');\n    this.setState({ b: 2 });\n    this.setProps({ ax: 5 });\n    // this.props.b(3);\n  }\n  $watchState(oldData, newData) {\n    console.log('oldData Component:', oldData);\n    console.log('newData Component:', newData);\n  }\n}\n\nclass R1 extends Controller {\n  constructor() {\n    super();\n    this.state = { a: 1 };\n    // this.declareTemplate = '<p rt-click=\"this.showAlert()\">R1 点我然后打开控制台看看</p><pComponent1/><pComponent2/>';\n    this.declareTemplate = '<p rt-click=\"this.showAlert()\">R1 点我然后打开控制台看看</p><pComponent1/>';\n    this.declareComponents = {\n      pComponent1: new PComponent('pComponent1', {\n        ax: 'a', // key in this.state\n        b: this.getProps.bind(this), // action in this\n      }),\n      // pComponent2: new PComponent('pComponent2'),\n    };\n  }\n  $onInit() {\n    // console.log('is $onInit');\n  }\n  $beforeMount() {\n    // console.log('is $beforeMount');\n  }\n  $afterMount() {\n    // console.log('is $afterMount');\n  }\n  $onDestory() {\n    // console.log('is $onDestory');\n  }\n  $watchState(oldData, newData) {\n    console.log('oldData Controller:', oldData);\n    console.log('newData Controller:', newData);\n  }\n  showAlert() {\n    // alert('我错了 点下控制台看看吧');\n    this.setState({ a: 2 });\n    console.log('state', this.state);\n  }\n  getProps(a) {\n    // alert('里面传出来了');\n    this.setState({ a: a });\n  }\n}\n\nclass R2 extends Controller {\n  constructor() {\n    super();\n    this.state = { a: 1 };\n    this.declareTemplate = '<p rtClick=\"this.showAlert()\">R2 点我然后打开控制台看看</p>';\n    this.declareComponents = {\n      pComponent1: new PComponent('pComponent1', {\n        a: this.state.a,\n      }),\n    };\n  }\n  $onInit() {\n    // console.log('is $onInit');\n  }\n  $beforeMount() {\n    // console.log('is $beforeMount');\n  }\n  $afterMount() {\n    // console.log('is $afterMount');\n  }\n  $onDestory() {\n    // console.log('is $onDestory');\n  }\n  $watchState(oldData, newData) {\n    console.log('oldData Controller:', oldData);\n    console.log('newData Controller:', newData);\n  }\n  showAlert() {\n    // alert('我错了 点下控制台看看吧');\n    this.setState(() => ({ a: 2 }));\n  }\n}\n\nconst router = new Router();\nconst routes = [\n  {\n    path: 'R1',\n    controller: R1,\n  },\n  {\n    path: 'R2',\n    controller: R2,\n  },\n];\nrouter.init(routes);\nrouter.$routeChange = function (old, next) {\n  console.log('$routeChange', old, next);\n};\n"]}